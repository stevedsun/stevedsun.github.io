<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Mac on Steve Sun</title><link>https://sund.site/tags/mac/</link><description>Recent content in Mac on Steve Sun</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Steve Sun</copyright><lastBuildDate>Sun, 24 Nov 2019 16:11:00 +0800</lastBuildDate><atom:link href="https://sund.site/tags/mac/index.xml" rel="self" type="application/rss+xml"/><item><title>为 Mac OS 10.15 开启 HiDPI，让 2K 显示器更舒适</title><link>https://sund.site/posts/2019/macbook-hidpi/</link><pubDate>Sun, 24 Nov 2019 16:11:00 +0800</pubDate><guid>https://sund.site/posts/2019/macbook-hidpi/</guid><description>&lt;p>以前手抖买了台 Dell P2416D 显示器，接上 Macbook 发现原生的分辨率设置在 2K 显示器上字体很小，换成 1080P 分辨率显示效果又特别模糊。上网查了一下发现可以为 Macbook 强行开启 HiDPI。下文的教程结合了 Github 上用户&lt;a class="link" href="https://github.com/xzhih" target="_blank" rel="noopener"
>ZeRo° Xu&lt;/a> 在 &lt;a class="link" href="https://github.com/xzhih/one-key-hidpi" target="_blank" rel="noopener"
>一键开启 HiDPI 脚本&lt;/a> 里的 &lt;a class="link" href="https://github.com/syscl/Enable-HiDPI-OSX/issues/49" target="_blank" rel="noopener"
>Github Issue&lt;/a> 和一篇博文 &lt;a class="link" href="https://www.smslit.top/2019/01/02/mac_hidpi/" target="_blank" rel="noopener"
>《为 mac 连接的 2k 显示器开启 HiDPI》&lt;/a>。&lt;/p>
&lt;h2 id="什么是-hidpi">什么是 HiDPI
&lt;/h2>&lt;p>引用自 Github 用户 &lt;a class="link" href="https://github.com/xzhih" target="_blank" rel="noopener"
>ZeRo° Xu&lt;/a> ：&lt;/p>
&lt;blockquote>
&lt;p>它使用横纵 2 个物理像素也就是 4 个物理像素来显示 1 个像素区域，结果就是图像的细节得到翻倍、更清晰、边缘更平滑。&lt;/p>
&lt;p>拿 13 寸的 MacBook Pro 举例，它的屏幕物理分辨率是 2560 x 1600，所以原生的 HIDPI 分辨率就是 1280x800。更高的一档 1440x900 hidpi 缩放分辨率，则是虚拟出一个 2880x1800 的分辨率，再进行软缩放输入。所以你能发现苹果的电脑总是有很高的分辨率。&lt;/p>
&lt;p>好了，既然你的屏幕是 1080p，本身就没有那么多像素去合成 HIDPI，如果以原生的显示计算，你这屏幕的 1080p 分辨率应该是 960x540，这么低的分辨率你是没法用的，所以就有了这个脚本。&lt;/p>
&lt;p>这个脚本的功能是虚拟出比你的屏幕物理分辨率更高的假分辨率，也就是你看到的 3360 x 1888，这样你就可以使用 1680 x 944 hidpi 这个缩放分辨率了。&lt;/p>
&lt;p>如果你要开启 1080p 的 HIDPI 分辨率，就虚拟一个 3840 x 2160 的假分辨率，然后 MacOS 会使用 4 个像素来显示 1 个像素区域，也就是和你物理分辨率一样的 1080p 分辨率，开不开启看起来没任何区别，最大的效果就是显卡压力增大系统变卡、截图可以得到高分辨率图像。&lt;/p>
&lt;/blockquote>
&lt;h2 id="自动配置-hidpi">自动配置 HiDPI
&lt;/h2>&lt;p>上文 &lt;a class="link" href="https://github.com/xzhih/one-key-hidpi" target="_blank" rel="noopener"
>链接&lt;/a> 里提到一键配置脚本，你不妨先按照脚本的步骤开启 HiDPI 试试。但是脚本并没有适配所有显示器的情况（至少我的 Dell P2416D 使用后无效），所以就有了下面的步骤。&lt;/p>
&lt;h2 id="手动配置-hidpi">手动配置 HiDPI
&lt;/h2>&lt;p>本教程测试环境：&lt;/p>
&lt;ul>
&lt;li>笔记本：MacBook Pro (Retina, 15-inch, Mid 2015)&lt;/li>
&lt;li>显示器：Dell P2416D&lt;/li>
&lt;li>操作系统：MacOS Catalina (Version 10.15.1)&lt;/li>
&lt;/ul>
&lt;h3 id="0-安装-rdm">0. 安装 RDM
&lt;/h3>&lt;p>相信很多人已经装过这个工具了，它是用来修改显示分辨率的，如果没装，请在&lt;a class="link" href="https://avi.alkalay.net/software/RDM/" target="_blank" rel="noopener"
>RDM 下载页面&lt;/a>安装它。&lt;/p>
&lt;h3 id="1-关闭-mac-的-sip">1. 关闭 Mac 的 SIP
&lt;/h3>&lt;p>SIP 是苹果公司为防止你胡乱篡改系统文件用的保护机制，请先按照下面步骤把它关闭，以便后续操作：&lt;/p>
&lt;ol>
&lt;li>关机（最好先手机拍个照把这 4 步记录下来）&lt;/li>
&lt;li>按&lt;code>command（⌘）+ R&lt;/code>+电源键开机，自动进入恢复模式&lt;/li>
&lt;li>选择上边菜单栏的&lt;code>实用工具&lt;/code>中的&lt;code>终端&lt;/code>&lt;/li>
&lt;li>输入命令&lt;code>csrutil disable&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>最后终端显示 「Successfully……」 等一大堆文字就说明你成功了。你可以输入&lt;code>reboot&lt;/code>重启。等下文的全部设置都完成后，你如果想恢复 SIP，就重复步骤 1 到 3，在第 4 步输入&lt;code>csrutil enable&lt;/code>就好了。&lt;/p>
&lt;h3 id="2-开启-macos-的-hidpi-选项">2. 开启 macOS 的 HiDPI 选项
&lt;/h3>&lt;p>再次重启后进入系统，打开终端输入&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo defaults write /Library/Preferences/com.apple.windowserver.plist DisplayResolutionEnabled -bool true
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="3-查询你的外接显示器的编号">3. 查询你的外接显示器的编号
&lt;/h3>&lt;p>这一步相当重要，先介绍两个命令&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ioreg -l | grep &amp;#34;DisplayVendorID&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ioreg -l | grep &amp;#34;DisplayProductID&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这两条命令用来查询你的显示器供应商 ID &lt;code>DisplayVendorID&lt;/code> 和产品 ID &lt;code>DisplayProductID&lt;/code>。接下来你要找到你的显示器对应的&lt;code>DisplayVendorID&lt;/code>和&lt;code>DisplayProductID&lt;/code>：&lt;/p>
&lt;ol>
&lt;li>拔掉显示器的 HDMI 或者 DP 线&lt;/li>
&lt;li>分别输入上面两个命令之后&lt;code>return(↩)&lt;/code>，每个命令会返回一个带有数字的结果。那个数字就是 macbook 默认的&lt;code>DisplayVendorID&lt;/code>和&lt;code>DisplayProductID&lt;/code>了&lt;/li>
&lt;li>接入显示器&lt;/li>
&lt;li>再分别输入那两个命令，每个命令会分别返回两条带有数字的结果。对比刚才 macbook 默认的结果，另一个数字就是你显示器的&lt;code>DisplayVendorID&lt;/code>和&lt;code>DisplayProductID&lt;/code>了&lt;/li>
&lt;li>把这两个数字分别转成对应的 16 进制数，用这个&lt;a class="link" href="https://tool.oschina.net/hexconvert" target="_blank" rel="noopener"
>进制转换工具&lt;/a>&lt;/li>
&lt;/ol>
&lt;p>现在，回到桌面，新建一个文件夹命名为&lt;code>DisplayVendorID-[你刚才查到的DisplayVendorID的16进制数]&lt;/code>，例如&lt;code>DisplayVendorID-10ac&lt;/code>。&lt;/p>
&lt;p>之后在这个刚建好的文件夹下增加一个文件，命名为&lt;code>DisplayProductID-[你刚才查到的DisplayProductID的16进制数]&lt;/code>，例如&lt;code>DisplayProductID-a0c3&lt;/code>。&lt;/p>
&lt;h3 id="4-为你的显示器生成-plist-文件">4. 为你的显示器生成 plist 文件
&lt;/h3>&lt;p>到 &lt;a class="link" href="https://comsysto.github.io/Display-Override-PropertyList-File-Parser-and-Generator-with-HiDPI-Support-For-Scaled-Resolutions/" target="_blank" rel="noopener"
>这个网站&lt;/a> ，在左侧的空里分别输入显示器型号，DisplayProductID 和 DisplayVendorID，注意填 16 进制的数字，并且检查下后边 10 进制的数字是不是和你刚才命令查到的一致。如果需要添加自己额外的分辨率，直接在下边新建一条分辨率配置就行。最后，复制右边生成 XML 格式文本，粘贴到刚才新建的文件里。（也可以直接从网站下载文件，去掉文件名后缀 &lt;code>.plist&lt;/code> ）&lt;/p>
&lt;img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g9bg60hippj30nm0rqwha.jpg" alt="显示器配置" style="zoom:50%;" />
&lt;p>XML 文件类似下边这样：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-xml" data-lang="xml">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&amp;lt;!DOCTYPE plist PUBLIC &amp;#34;-//Apple//DTD PLIST 1.0//EN&amp;#34; &amp;#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&amp;#34;&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;plist&lt;/span> &lt;span class="na">version=&lt;/span>&lt;span class="s">&amp;#34;1.0&amp;#34;&lt;/span>&lt;span class="nt">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;dict&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;key&amp;gt;&lt;/span>DisplayProductID&lt;span class="nt">&amp;lt;/key&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;integer&amp;gt;&lt;/span>41156&lt;span class="nt">&amp;lt;/integer&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;key&amp;gt;&lt;/span>DisplayVendorID&lt;span class="nt">&amp;lt;/key&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;integer&amp;gt;&lt;/span>4268&lt;span class="nt">&amp;lt;/integer&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;key&amp;gt;&lt;/span>scale-resolutions&lt;span class="nt">&amp;lt;/key&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;array&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;data&amp;gt;&lt;/span>AAAKAAAABaAAAAABACAAAA==&lt;span class="nt">&amp;lt;/data&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;data&amp;gt;&lt;/span>AAAFAAAAAtAAAAABACAAAA==&lt;span class="nt">&amp;lt;/data&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;data&amp;gt;&lt;/span>AAAPAAAACHAAAAABACAAAA==&lt;span class="nt">&amp;lt;/data&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;data&amp;gt;&lt;/span>AAAHgAAABDgAAAABACAAAA==&lt;span class="nt">&amp;lt;/data&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;data&amp;gt;&lt;/span>AAAMgAAABwgAAAABACAAAA==&lt;span class="nt">&amp;lt;/data&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;data&amp;gt;&lt;/span>AAAGQAAAA4QAAAABACAAAA==&lt;span class="nt">&amp;lt;/data&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;data&amp;gt;&lt;/span>AAAKAgAABaAAAAABACAAAA==&lt;span class="nt">&amp;lt;/data&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;data&amp;gt;&lt;/span>AAAKrAAABgAAAAABACAAAA==&lt;span class="nt">&amp;lt;/data&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;data&amp;gt;&lt;/span>AAAFVgAAAwAAAAABACAAAA==&lt;span class="nt">&amp;lt;/data&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;lt;/array&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/dict&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">&amp;lt;/plist&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="4-复制-plist-配置文件到系统配置目录">4. 复制 plist 配置文件到系统配置目录
&lt;/h3>&lt;p>这一步就是把刚才新建的配置文件复制到你系统目录里，你直接复制通常会提示你系统目录是「只读」的，不允许你胡作非为。所以你先要在终端执行下面的命令：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo mount -uw /
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>这样，你就可以复制到系统的文件夹了。（这个命令重启后失效）&lt;/p>
&lt;p>接下来打开系统文件夹&lt;code>/System/Library/Displays/Contents/Resources/Overrides/&lt;/code>，你会发现一大堆跟你刚才文件夹命名相似的目录。把你新建的文件夹丢进去，和它们混在一起，假装它原来就是其中一员。重启。&lt;/p>
&lt;h3 id="5-修改分辨率">5. 修改分辨率
&lt;/h3>&lt;p>重启之后又进入系统，首先打开 RDM，你会在菜单栏看见它：&lt;/p>
&lt;img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g995pjfs3aj30io0h4gz1.jpg" alt="rdm-shot" style="zoom:50%;" />
&lt;p>Main Display 和 Display 2 就分别是你的外接显示器和 macbook 的显示器分辨率设置（位置有可能对掉，自己尝试一下）。带有 ⚡️ 符号的分辨率设置项就是开启 HiDPI 后新增出来的。如果你像我一样是 2K 显示器，可以给显示器选择&lt;code>1920x1080⚡️&lt;/code>那个配置。是不是比原生分辨率的 UI 和字体更大更清晰了。&lt;/p>
&lt;h2 id="小结">小结
&lt;/h2>&lt;p>本文教你强行开启 macbook 的 HiDPI 设置，并针对 2K 显示器新增了配置文件到系统配置目录里，最后用 RDM 自由设置适合你显示器的分辨率。至于 HiDPI 的原理，请自行搜索，此处不再赘述。&lt;/p>
&lt;p>希望本文对你有帮助，也欢迎你留言反馈。&lt;/p></description></item></channel></rss>