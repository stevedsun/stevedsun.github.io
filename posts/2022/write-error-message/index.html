<!doctype html><html lang=zh-CN><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://sund.site/favicon.ico><title>规范的错误信息 | Steve Sun</title>
<meta name=title content="规范的错误信息"><meta name=description content='
本文整理了 Google 官方文档中关于错误信息的编写规范。适用于有一定编程经验，尤其从事业务开发的程序员。
通过本文你可以：

写出风格统一、用户友好的错误信息
提高代码的可维护性，降低沟通成本

Google 文档原文：Error Messages
基本原则

错误不应该被掩盖 (Don&rsquo;t fail silently)
遵循语言的规范 (Follow the programming language guides)
实现完整的错误模型 (Implement the full error model)

包含错误码、错误内容、错误原因、处理方法


避免吞掉问题根源 (Avoid swallowing the root cause)
输出错误代码 (Log the error codes)
快速抛出错误 (Raise errors immediately)

解释错误原因
使用错误信息给用户解释原因时，应该遵循：

具体，准确，避免含糊。
在错误信息中包含用户输入的错误内容。如果输入的内容特别长：

渐进地显示，提供一个可展开详情的省略号。
截断内容，只保留必要部分。


明确告诉用户，系统的要求和限制

解释如何处理问题

对用户来说，错误信息必须有可操作性。也就是说，在解释了问题的原因后，说明如何解决这个问题。
最好给用户提供一个例子。

清晰的错误信息

简明扼要，使用主动语态。（这方面内容可以参考技术文档写作指南）
避免出现双重否定句式。
让目标用户能够理解，即根据用户掌握的知识，提供有帮助的内容。
专业术语应前后一致。

错误信息的格式

使用链接提供更多信息。
渐进式呈现错误信息（比如可以展开详情的省略号）。
错误提示应该贴近错误发生的位置。
避免错误信息滥用字体或颜色。
使用正确的语气:

不要告诉用户错在哪，告诉用户应该做什么。
避免责备、幽默、道歉的语气。



对后端开发的建议

错误要有错误码
可以在错误信息结构里提供一个指向错误解释的 ID，如：
{
  "error": "Bad Request - Request is missing a required parameter: -collection_name. Update parameter and resubmit. Issue Reference Number BR0x0071"
}

'><meta name=keywords content="错误日志,技术文档,"><link rel=canonical href=https://sund.site/posts/2022/write-error-message/><meta property="og:url" content="https://sund.site/posts/2022/write-error-message/"><meta property="og:site_name" content="Steve Sun"><meta property="og:title" content="规范的错误信息"><meta property="og:description" content='本文整理了 Google 官方文档中关于错误信息的编写规范。适用于有一定编程经验，尤其从事业务开发的程序员。
通过本文你可以：
写出风格统一、用户友好的错误信息 提高代码的可维护性，降低沟通成本 Google 文档原文：Error Messages
基本原则 错误不应该被掩盖 (Don’t fail silently) 遵循语言的规范 (Follow the programming language guides) 实现完整的错误模型 (Implement the full error model) 包含错误码、错误内容、错误原因、处理方法
避免吞掉问题根源 (Avoid swallowing the root cause) 输出错误代码 (Log the error codes) 快速抛出错误 (Raise errors immediately) 解释错误原因 使用错误信息给用户解释原因时，应该遵循：
具体，准确，避免含糊。 在错误信息中包含用户输入的错误内容。如果输入的内容特别长： 渐进地显示，提供一个可展开详情的省略号。 截断内容，只保留必要部分。 明确告诉用户，系统的要求和限制 解释如何处理问题 对用户来说，错误信息必须有可操作性。也就是说，在解释了问题的原因后，说明如何解决这个问题。 最好给用户提供一个例子。 清晰的错误信息 简明扼要，使用主动语态。（这方面内容可以参考技术文档写作指南） 避免出现双重否定句式。 让目标用户能够理解，即根据用户掌握的知识，提供有帮助的内容。 专业术语应前后一致。 错误信息的格式 使用链接提供更多信息。 渐进式呈现错误信息（比如可以展开详情的省略号）。 错误提示应该贴近错误发生的位置。 避免错误信息滥用字体或颜色。 使用正确的语气: 不要告诉用户错在哪，告诉用户应该做什么。 避免责备、幽默、道歉的语气。 对后端开发的建议 错误要有错误码 可以在错误信息结构里提供一个指向错误解释的 ID，如： { "error": "Bad Request - Request is missing a required parameter: -collection_name. Update parameter and resubmit. Issue Reference Number BR0x0071" }'><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-08-23T22:18:00+08:00"><meta property="article:modified_time" content="2022-08-23T22:18:00+08:00"><meta property="article:tag" content="错误日志"><meta property="article:tag" content="技术文档"><meta property="og:image" content="https://sund.site/images/share.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://sund.site/images/share.png"><meta name=twitter:title content="规范的错误信息"><meta name=twitter:description content='本文整理了 Google 官方文档中关于错误信息的编写规范。适用于有一定编程经验，尤其从事业务开发的程序员。
通过本文你可以：
写出风格统一、用户友好的错误信息 提高代码的可维护性，降低沟通成本 Google 文档原文：Error Messages
基本原则 错误不应该被掩盖 (Don’t fail silently) 遵循语言的规范 (Follow the programming language guides) 实现完整的错误模型 (Implement the full error model) 包含错误码、错误内容、错误原因、处理方法
避免吞掉问题根源 (Avoid swallowing the root cause) 输出错误代码 (Log the error codes) 快速抛出错误 (Raise errors immediately) 解释错误原因 使用错误信息给用户解释原因时，应该遵循：
具体，准确，避免含糊。 在错误信息中包含用户输入的错误内容。如果输入的内容特别长： 渐进地显示，提供一个可展开详情的省略号。 截断内容，只保留必要部分。 明确告诉用户，系统的要求和限制 解释如何处理问题 对用户来说，错误信息必须有可操作性。也就是说，在解释了问题的原因后，说明如何解决这个问题。 最好给用户提供一个例子。 清晰的错误信息 简明扼要，使用主动语态。（这方面内容可以参考技术文档写作指南） 避免出现双重否定句式。 让目标用户能够理解，即根据用户掌握的知识，提供有帮助的内容。 专业术语应前后一致。 错误信息的格式 使用链接提供更多信息。 渐进式呈现错误信息（比如可以展开详情的省略号）。 错误提示应该贴近错误发生的位置。 避免错误信息滥用字体或颜色。 使用正确的语气: 不要告诉用户错在哪，告诉用户应该做什么。 避免责备、幽默、道歉的语气。 对后端开发的建议 错误要有错误码 可以在错误信息结构里提供一个指向错误解释的 ID，如： { "error": "Bad Request - Request is missing a required parameter: -collection_name. Update parameter and resubmit. Issue Reference Number BR0x0071" }'><meta itemprop=name content="规范的错误信息"><meta itemprop=description content='本文整理了 Google 官方文档中关于错误信息的编写规范。适用于有一定编程经验，尤其从事业务开发的程序员。
通过本文你可以：
写出风格统一、用户友好的错误信息 提高代码的可维护性，降低沟通成本 Google 文档原文：Error Messages
基本原则 错误不应该被掩盖 (Don’t fail silently) 遵循语言的规范 (Follow the programming language guides) 实现完整的错误模型 (Implement the full error model) 包含错误码、错误内容、错误原因、处理方法
避免吞掉问题根源 (Avoid swallowing the root cause) 输出错误代码 (Log the error codes) 快速抛出错误 (Raise errors immediately) 解释错误原因 使用错误信息给用户解释原因时，应该遵循：
具体，准确，避免含糊。 在错误信息中包含用户输入的错误内容。如果输入的内容特别长： 渐进地显示，提供一个可展开详情的省略号。 截断内容，只保留必要部分。 明确告诉用户，系统的要求和限制 解释如何处理问题 对用户来说，错误信息必须有可操作性。也就是说，在解释了问题的原因后，说明如何解决这个问题。 最好给用户提供一个例子。 清晰的错误信息 简明扼要，使用主动语态。（这方面内容可以参考技术文档写作指南） 避免出现双重否定句式。 让目标用户能够理解，即根据用户掌握的知识，提供有帮助的内容。 专业术语应前后一致。 错误信息的格式 使用链接提供更多信息。 渐进式呈现错误信息（比如可以展开详情的省略号）。 错误提示应该贴近错误发生的位置。 避免错误信息滥用字体或颜色。 使用正确的语气: 不要告诉用户错在哪，告诉用户应该做什么。 避免责备、幽默、道歉的语气。 对后端开发的建议 错误要有错误码 可以在错误信息结构里提供一个指向错误解释的 ID，如： { "error": "Bad Request - Request is missing a required parameter: -collection_name. Update parameter and resubmit. Issue Reference Number BR0x0071" }'><meta itemprop=datePublished content="2022-08-23T22:18:00+08:00"><meta itemprop=dateModified content="2022-08-23T22:18:00+08:00"><meta itemprop=wordCount content="90"><meta itemprop=image content="https://sund.site/images/share.png"><meta itemprop=keywords content="错误日志,技术文档"><meta name=referrer content="no-referrer-when-downgrade"><style>:root{--width-max:720px;--font-primary:Verdana, sans-serif;--font-secondary:monospace;--font-size-primary:1em;--font-size-secondary:0.8em;--body-bg-color:#fcfcfc;--bold-text-color:#222;--body-text-color:#444;--link-color:#3273dc;--link-visited-color:#8b6fcb;--table-border-color:#f2f2f2;--table-th-bg-color:#f2f2f2;--img-border-color:#f2f2f2;--code-bg-color:#f2f2f2;--code-text-color:#222;--blockquote-border-color:#666;--blockquote-text-color:#666;--upvoted-color:#FA8072}@media(prefers-color-scheme:dark){:root{--body-bg-color:#1c1c1c;--bold-text-color:#eee;--body-text-color:#ddd;--link-color:#8cc2dd;--link-visited-color:#c3b1ee;--table-border-color:#999;--table-th-bg-color:#999;--img-border-color:#999;--code-bg-color:#555;--code-text-color:#ddd;--blockquote-border-color:#ccc;--blockquote-text-color:#ccc}}body{font-family:var(--font-primary);font-size:var(--font-size-primary);margin:auto;padding:20px;max-width:var(--width-max);text-align:left;background-color:var(--body-bg-color);word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:var(--body-text-color)}h1,h2,h3,h4,h5,h6,strong,b{color:var(--bold-text-color)}h1,h2,h3,h4,h5,h6{margin:16px 0}a{color:var(--link-color);cursor:pointer;text-decoration:none}a:hover{text-decoration:underline}.title{text-decoration:none;border:0}.title:hover{text-decoration:none}.title span{font-weight:400}nav a{margin-right:8px}textarea{width:100%;font-size:16px}input{font-size:14px}content{line-height:1.6}table{width:100%;border-collapse:collapse;border:1px solid var(--table-border-color);border-radius:4px}th,td{border:1px solid var(--table-border-color);padding:4px}th{background-color:var(--table-th-bg-color)}hr{border:0;border-top:1px dashed}img{max-width:100%;display:block;margin-left:auto;margin-right:auto;border:1px solid var(--img-border-color);border-radius:4px;content-visibility:auto;loading:lazy}img[src*="#minipic"]{max-width:50%;margin-left:0;margin-right:auto}i{font-style:normal}time{font-family:var(--font-secondary);font-size:15px}code{font-family:var(--font-secondary);background-color:var(--code-bg-color);color:var(--code-text-color);padding:2px;border-radius:4px}pre code{display:block;padding:16px;white-space:pre-wrap;overflow-x:auto}div.highlight pre{border-radius:4px}div.highlight code{background-color:var(--code-bg-color);color:var(--code-text-color)}blockquote{border-left:2px solid var(--blockquote-border-color);color:var(--blockquote-text-color);margin:0;padding-left:16px;font-style:normal}blockquote p{margin:0}footer{padding:25px 0;text-align:center;font-size:var(--font-size-secondary)}ul li:has(input){list-style-type:none;margin-left:-25.5px}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li span.grouped{flex:0 0 80px}ul.blog-posts li a:visited{color:var(--link-visited-color)}div.toc{position:fixed;top:50%;left:calc((100vw + var(--width-max))/2);transform:translateY(-50%);width:calc((90vw - var(--width-max))/2);max-height:80vh;overflow-y:auto;padding:20px 8px;z-index:99;&::-webkit-scrollbar { display:none; } -ms-overflow-style:none;scrollbar-width:none}div.toc ul{list-style-type:none;padding-left:0}div.toc ul li{margin:8px 0}div.toc ul li a{text-decoration:none;color:var(--blockquote-text-color)}div.toc ul li a:hover{color:var(--link-color)}button.upvote-btn{margin:0;padding:0;border:none;background:0 0;cursor:pointer;display:flex;flex-direction:column;align-items:center;color:var(--body-text-color)}button.upvoted{color:var(--upvoted-color)}span.upvote-count{margin-top:-4px;font-size:smaller}@media(max-width:500px){img[src*="#minipic"]{max-width:100%;margin-left:auto;margin-right:auto}div.toc{display:none}}</style><link rel=stylesheet href=https://chinese-fonts-cdn.deno.dev/packages/GuanKiapTsingKhai/dist/GuanKiapTsingKhai/result.css><style>body,div.post-body,h1,h2,h3,h4{font-family:microsoft yahei,pingfang sc,avenir,segoe ui,hiragino sans gb,STHeiti,microsoft sans serif,wenquanyi micro hei,sans-serif}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-XJJVVQ0LBH"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XJJVVQ0LBH")</script></head><body><header><a href=/ class=title><h1>Steve Sun</h1></a><nav><a href=/>Home</a>
<a href=/friends/>Friends</a>
<a href=/posts/>Posts</a></nav></header><main><h1>规范的错误信息</h1><p><i><time datetime=2022-08-23 pubdate>23 Aug, 2022</time></i></p><content><p><img src=/images/20221031083917.png alt></p><p>本文整理了 Google 官方文档中关于错误信息的编写规范。适用于有一定编程经验，尤其从事业务开发的程序员。</p><p>通过本文你可以：</p><ul><li>写出风格统一、用户友好的错误信息</li><li>提高代码的可维护性，降低沟通成本</li></ul><p>Google 文档原文：<a href=https://developers.google.com/tech-writing/error-messages>Error Messages</a></p><h2 id=基本原则>基本原则</h2><ul><li>错误不应该被掩盖 (Don&rsquo;t fail silently)</li><li>遵循语言的规范 (Follow the programming language guides)</li><li>实现完整的错误模型 (Implement the full error model)<blockquote><p>包含错误码、错误内容、错误原因、处理方法</p></blockquote></li><li>避免吞掉问题根源 (Avoid swallowing the root cause)</li><li>输出错误代码 (Log the error codes)</li><li>快速抛出错误 (Raise errors immediately)</li></ul><h2 id=解释错误原因>解释错误原因</h2><p>使用错误信息给用户解释原因时，应该遵循：</p><ul><li>具体，准确，避免含糊。</li><li>在错误信息中包含用户输入的错误内容。如果输入的内容特别长：<ul><li>渐进地显示，提供一个可展开详情的省略号。</li><li>截断内容，只保留必要部分。</li></ul></li><li>明确告诉用户，系统的要求和限制</li></ul><h2 id=解释如何处理问题>解释如何处理问题</h2><ul><li>对用户来说，错误信息必须有可操作性。也就是说，在解释了问题的原因后，说明如何解决这个问题。</li><li>最好给用户提供一个例子。</li></ul><h2 id=清晰的错误信息>清晰的错误信息</h2><ul><li>简明扼要，使用主动语态。（这方面内容可以参考<a href=https://sund.site/posts/2022/technical-writing/>技术文档写作指南</a>）</li><li>避免出现双重否定句式。</li><li>让目标用户能够理解，即根据用户掌握的知识，提供有帮助的内容。</li><li>专业术语应前后一致。</li></ul><h2 id=错误信息的格式>错误信息的格式</h2><ul><li>使用链接提供更多信息。</li><li>渐进式呈现错误信息（比如可以展开详情的省略号）。</li><li>错误提示应该贴近错误发生的位置。</li><li>避免错误信息滥用字体或颜色。</li><li>使用正确的语气:<ul><li>不要告诉用户错在哪，告诉用户应该做什么。</li><li>避免责备、幽默、道歉的语气。</li></ul></li></ul><h2 id=对后端开发的建议>对后端开发的建议</h2><ul><li>错误要有错误码</li><li>可以在错误信息结构里提供一个指向错误解释的 ID，如：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;error&#34;</span>: <span style=color:#e6db74>&#34;Bad Request - Request is missing a required parameter: -collection_name. Update parameter and resubmit. Issue Reference Number BR0x0071&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ul></content><p><a href=https://sund.site/tags/%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97/>#错误日志</a>
<a href=https://sund.site/tags/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/>#技术文档</a></p><div class=toc><nav id=TableOfContents><ul><li><a href=#基本原则>基本原则</a></li><li><a href=#解释错误原因>解释错误原因</a></li><li><a href=#解释如何处理问题>解释如何处理问题</a></li><li><a href=#清晰的错误信息>清晰的错误信息</a></li><li><a href=#错误信息的格式>错误信息的格式</a></li><li><a href=#对后端开发的建议>对后端开发的建议</a></li></ul></nav></div></main><footer>Subscribe via <a href=/index.xml>RSS</a>.<br>Made with
<a href=https://github.com/rokcso/hugo-bearblog-neo/>Hugo Bear Neo</a>.<br>Copyright © 2013-2025, Steve Sun.
🗺️ <a href=/sitemap.xml>Sitemap</a>.</footer></body></html>