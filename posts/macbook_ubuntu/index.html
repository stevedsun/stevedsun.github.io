<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Steve Sun"><title>macbook安装ubuntu ｜ 電波障害</title><meta name=description content="注意，ubuntu和xubuntu安装上有一定差别，请严格按照你选择的系统版本流"><meta name=keywords content="Steve Sun,Notion,Develop,Programm,Coding,Note-taking,Book"><link rel="shortcut icon" href=https://sund.site/images/favicon.ico><link rel=stylesheet type=text/css media=screen href=https://sund.site/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css><link rel=stylesheet type=text/css media=screen href=https://sund.site/css/zozo.css><link rel=stylesheet type=text/css media=screen href=https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css><link rel=stylesheet type=text/css media=screen href=https://sund.site/css/highlight.css></head><body><div class="main animate__animated animate__fadeInDown"><div class="nav_container animated fadeInDown"><div class=site_nav id=site_nav><ul><li><a href=/>Home</a></li><li><a href=/posts/>Archive</a></li><li><a href=/tags/>Tags</a></li><li><a href=/about/>About</a></li></ul></div><div class=menu_icon><a id=menu_icon><i class=ri-menu-line></i></a></div></div><div class="header animated fadeInDown"><div class=site_title_container><div class=site_title><h1><a href=https://sund.site/><span>電波障害</span></a></h1></div><div class=description><p class=sub_title>Steve Sun, full-stack developer</p><div class=my_socials><a href=https://github.com/stevedsun title=github target=_blank><i class=ri-github-fill></i></a><a href=https://twitter.com/way2steve title=twitter target=_blank><i class=ri-twitter-fill></i></a><a href=https://sund.site/index.xml type=application/rss+xml title=rss target=_blank><i class=ri-rss-fill></i></a></div></div></div></div><div class=content><div class=post_page><div class="post animate__animated animate__fadeInDown"><div class="post_title post_detail_title"><h2><a href=/posts/macbook_ubuntu/>macbook安装ubuntu</a></h2><span class=date>2013.01.04</span></div><div class="post_content markdown"><p><strong>注意，ubuntu和xubuntu安装上有一定差别，请严格按照你选择的系统版本流程安装</strong></p><h3 id=ubuntu>ubuntu</h3><h3 id=准备工作>准备工作</h3><h5 id=分区>分区</h5><p>这一步可以用命令行实现，也可以在mac下直接用磁盘工具分区，初学者建议后者。有经验的朋友可以在网上查询diskutils的用法，这是mac提供的分区工具</p><p>使用磁盘工具，打开左侧最上边磁盘位置（不是macosx，而是整个硬盘）的选项，右边会出现<code>分区</code>标签。选择分区，你可以用鼠标拖动轻松将macos的一部分划分给ubuntu使用。分区格式可以选择mac日志文件。其实选什么都一样，等会还要重新格式化。</p><h4 id=把iso镜像转化为苹果电脑识别的img镜像>把iso镜像转化为苹果电脑识别的img镜像</h4><pre><code>hdiutil convert /path/to/ubuntu.iso -format UDRW -o /path/to/target.img
</code></pre><p>命令中<code>path/to/ubuntu.iso</code>是你下载的iso路径，<code>path/to/target.img</code>自然是你要保存成img的路径</p><h4 id=插入u盘刻录镜像>插入U盘，刻录镜像</h4><p>先运行如下命令查询你U盘的设备名</p><pre><code>diskutil list
</code></pre><p>这里假设U盘是disk1，执行</p><pre><code>diskutil unmountDisk /dev/disk1
</code></pre><p>接下来执行命令刻录，</p><pre><code>sudo dd if=/path/to/downloaded.img of=/dev/disk1 bs=1m
</code></pre><p>ubuntu官网针对上一条命令可能出现的两种错误提示给出了解决办法：</p><ol><li><p>If you see the error dd: Invalid number &lsquo;1m&rsquo;, you are using GNU dd. Use the same command but replace bs=1m with bs=1M.</p></li><li><p>If you see the error dd: /dev/disk1: Resource busy, make sure the disk is not in use. Start the &lsquo;Disk Utility.app&rsquo; and unmount (don&rsquo;t eject) the drive.</p></li></ol><p>好了，刻完就可以重启安装了。重启后按住<code>option</code>会看到一个refit命名的移动设备图标，点进去就开始安装了。</p><h4 id=安装过程>安装过程</h4><p>安装过程可以参考网上其他人的帖子。一般有两种方式</p><ol><li>选择<code>ubuntu和mac os x共存</code>，系统会自动被安装到空闲分区。</li><li>选择<code>其他选项</code>，可以自己手动分区，我一般是选这个来手动分区。</li></ol><p>假设你选了<code>其他选项</code>就会进入分区的窗口，这时你就会看到所有磁盘分区的情况，刚才在mac下给ubuntu预先分好一块空闲分区也在其中，名字可能叫disk02，或者disk03什么的。
接下来要进行四次分区。这一段分区方法参考了百度经验上一个网友的教程，我进行了2处修改，原帖地址<a href=http://jingyan.baidu.com/article/60ccbceb18624464cab197ea.html>http://jingyan.baidu.com/article/60ccbceb18624464cab197ea.html</a></p><p>第一次分区：</p><pre><code>点你刚才留出来的“空闲”分区，点“+”，进行如下设置：
挂载点：“/”
大小：22000MB
新分区的类型：主分区
新分区的位置：空间起始位置
用于：EXT4日志文件系统
</code></pre><p>第二次分区：</p><pre><code>“空闲”处，继续点“+”，如下设置，
挂载点：（不设置）
大小：4096MB
新分区的类型：逻辑分区
新分区的位置：空间起始位置
用于：交换空间
</code></pre><p>第三次分区：</p><pre><code>“空闲”处，继续点“+”，如下设置，
挂载点：/boot
大小：200MB
新分区的类型：逻辑分区
新分区的位置：空间起始位置
用于：EXT4日志文件系统
</code></pre><p>第四次分区：</p><pre><code>“空闲”处，继续点“+”，如下设置，
挂载点：/home
大小：（剩余全部空间，剩下显示多少，就多少）
新分区的类型：逻辑分区
新分区的位置：空间起始位置
用于：EXT4日志文件系统
</code></pre><p>分区设置完毕后，下方还有一项“安装启动引导器的设备”，macbookpro用户需要选择/boot这个分区所在磁盘位置。</p><h3 id=开机引导程序refit>开机引导程序rEFIT</h3><p>安装完ubuntu，重启在mac下下载安装rEFIt。安装好后在终端里输入<code>/efi/refit/. enable-always.sh</code>启动rEFIt。重启，你就会看到ubuntu的选项。</p><h3 id=xubuntu估计lubuntu和kubuntu也应该适用仅是猜想>Xubuntu(估计Lubuntu和Kubuntu也应该适用，仅是猜想。)</h3><h3 id=准备工作-1>准备工作</h3><h4 id=如何刻录镜像到移动设备>如何刻录镜像到移动设备</h4><p>这个问题很重要，如果你下载了iso格式的Xubuntu系统镜像，
你需要将该镜像不经过任何转换的完整刻录到移动设备或光盘上
（我使用的是unetbootin 这个软件，开源，跨平台，操作简便）。
注意，绝对不可以将iso格式转换成img（mac镜像）后刻录。
这样会导致ubuntu部分版本无法安装grub引导器。</p><h4 id=开机引导程序refit-1>开机引导程序rEFIt</h4><p>安装完的系统无法被mac直接引导，所以需要安装rEFIt引导。如果不想要安装它，
可以参考下边附录1里的安装方法。重新修改引导文件。</p><h4 id=安装过程-1>安装过程</h4><ol><li>在官网下载xubuntu镜像，使用uneetbootin刻录到设备
上(mac版的unetbootin貌似刻录iso有问题，可以在windows上下载该软件使用)。</li><li>重启，开机界面按住<code>option</code>键，有个windows命名的移动设备图标，选中进入。</li><li>安装过程不敷述, 装后重启</li><li>从mac进入，安装rEFIt，在shell里运行<code>/efi/refit/. enable-always.sh</code>启动rEFIt</li><li>重启，出现两个图标，苹果代表mac，企鹅代表linux。至此，完成安装过程。</li></ol><h2 id=ubuntu或xubuntu安装后的一些配置>ubuntu或Xubuntu安装后的一些配置</h2><p>打开系统配置文件，</p><pre><code>sudo gedit /etc/rc.local
</code></pre><p>在exit 0 前边加入下边对应的语句,
默认关闭功能键Fn:</p><pre><code>echo 2 &gt; /sys/module/hid_apple/parameters/fnmode
</code></pre><p>设置默认亮度(数字2565可以修改任意亮度)（xubuntu下不起作用，原因未知）</p><pre><code>echo  2565 &gt; /sys/class/backlight/intel_backlight/brightness
</code></pre><p>设置键盘灯亮度（数字1代表亮度):</p><pre><code>echo 1 &gt; /sys/class/leds/smc::kbd_backlight/brightness
</code></pre><h3 id=附录1>附录1</h3><p><a href=https://help.ubuntu.com/community/MacBookPro11-1/Saucy>https://help.ubuntu.com/community/MacBookPro11-1/Saucy</a></p></div><div class=post_footer><div class=meta><div class=info><span class="field tags"><i class=ri-stack-line></i><a href=https://sund.site/tags/mac/>Mac</a>
<a href=https://sund.site/tags/linux/>Linux</a></span></div></div></div></div><div class=doc_comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"v2steve"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></div><a id=back_to_top href=# class=back_to_top><i class=ri-arrow-up-s-line></i></a><footer class=footer><div class=powered_by><a href=https://varkai.com>Designed by VarKai,</a>
<a href=http://www.gohugo.io/>Proudly published with Hugo</a></div><div class=footer_slogan><span></span></div></footer><script src=https://sund.site/js/jquery-3.5.1.min.js></script><link href=https://sund.site/css/fancybox.min.css rel=stylesheet><script src=https://sund.site/js/fancybox.min.js></script><script src=https://sund.site/js/zozo.js></script><script type=text/javascript async src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">MathJax.Hub.Config({tex2jax:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\[\[','\]\]']],processEscapes:true,processEnvironments:true,skipTags:['script','noscript','style','textarea','pre'],TeX:{equationNumbers:{autoNumber:"AMS"},extensions:["AMSmath.js","AMSsymbols.js"]}}});MathJax.Hub.Queue(function(){var all=MathJax.Hub.getAllJax(),i;for(i=0;i<all.length;i+=1){all[i].SourceElement().parentNode.className+=' has-jax';}});</script><style>code.has-jax{font:inherit;font-size:100%;background:inherit;border:inherit;color:#515151}</style><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-64688885-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>