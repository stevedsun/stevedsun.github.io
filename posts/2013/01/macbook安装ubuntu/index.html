<!doctype html><html lang=zh><head><meta charset=utf-8><title>电波障害</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta property="og:title" content="macbook安装ubuntu"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://sund.site/posts/2013/01/macbook%E5%AE%89%E8%A3%85ubuntu/"><meta itemprop=name content="macbook安装ubuntu"><meta itemprop=description content><meta name=twitter:card content="summary"><meta name=twitter:title content="macbook安装ubuntu"><meta name=twitter:description content><link rel=apple-touch-icon sizes=180x180 href=apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=favicon-32.png><link rel=stylesheet href=https://sund.site/scss/style.min.45907bf34c6c8931d70082da1b43b62096f190f3d386978c4d2bc1d40c0e24b3.css></head><body><header><div class="header header-frame"><div><h1 class=header__title>macbook安装ubuntu</h1></div><nav class=header-nav><ul class="header-nav-list header-nav-list--menu"><li class=header-nav-list__item><a class=header-nav-list__link href=/about/><span>About</span></a></li></ul><button class=header-nav-list__nav-btn>navigation</button></nav><button class=mb-header__menu-btn>
<span class=mb-header__menu-btn-line></span><span class=mb-header__menu-btn-line></span><span class=mb-header__menu-btn-line></span></button></div><nav id=mobile-header-nav class=mb-header-nav><button class="mb-header-nav__close-btn flex-center"><svg class="mb-header-nav__svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="32" height="32"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg></button><div class=mb-header-nav__wrapper><div class=mb-header-nav__container><svg width="240" height="72" viewBox="0 0 240 72" class="mb-header-nav__title"><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle">Tags</text></svg><ul class=mb-header-nav-list><li class=mb-header-nav-list__item><a class=mb-header-nav-list__link href=https://sund.site/tags/mac/>Mac</a></li><li class=mb-header-nav-list__item><a class=mb-header-nav-list__link href=https://sund.site/tags/linux/>Linux</a></li></ul></div><div class=mb-header-nav__container><svg width="240" height="72" viewBox="0 0 240 72" class="mb-header-nav__title"><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle">Menu</text></svg><ul class=mb-header-nav-list><li class=mb-header-nav-list__item><a class=mb-header-nav-list__link href=/about/>About</a></li></ul></div></div></nav></header><div id=content><article class=post><div class=post-content><p><strong>注意，ubuntu和xubuntu安装上有一定差别，请严格按照你选择的系统版本流程安装</strong></p><h3 id=ubuntu>ubuntu</h3><h3 id=准备工作>准备工作</h3><h5 id=分区>分区</h5><p>这一步可以用命令行实现，也可以在mac下直接用磁盘工具分区，初学者建议后者。有经验的朋友可以在网上查询diskutils的用法，这是mac提供的分区工具</p><p>使用磁盘工具，打开左侧最上边磁盘位置（不是macosx，而是整个硬盘）的选项，右边会出现<code>分区</code>标签。选择分区，你可以用鼠标拖动轻松将macos的一部分划分给ubuntu使用。分区格式可以选择mac日志文件。其实选什么都一样，等会还要重新格式化。</p><h4 id=把iso镜像转化为苹果电脑识别的img镜像>把iso镜像转化为苹果电脑识别的img镜像</h4><pre><code>hdiutil convert /path/to/ubuntu.iso -format UDRW -o /path/to/target.img
</code></pre><p>命令中<code>path/to/ubuntu.iso</code>是你下载的iso路径，<code>path/to/target.img</code>自然是你要保存成img的路径</p><h4 id=插入u盘刻录镜像>插入U盘，刻录镜像</h4><p>先运行如下命令查询你U盘的设备名</p><pre><code>diskutil list
</code></pre><p>这里假设U盘是disk1，执行</p><pre><code>diskutil unmountDisk /dev/disk1
</code></pre><p>接下来执行命令刻录，</p><pre><code>sudo dd if=/path/to/downloaded.img of=/dev/disk1 bs=1m
</code></pre><p>ubuntu官网针对上一条命令可能出现的两种错误提示给出了解决办法：</p><ol><li><p>If you see the error dd: Invalid number &lsquo;1m&rsquo;, you are using GNU dd. Use the same command but replace bs=1m with bs=1M.</p></li><li><p>If you see the error dd: /dev/disk1: Resource busy, make sure the disk is not in use. Start the &lsquo;Disk Utility.app&rsquo; and unmount (don&rsquo;t eject) the drive.</p></li></ol><p>好了，刻完就可以重启安装了。重启后按住<code>option</code>会看到一个refit命名的移动设备图标，点进去就开始安装了。</p><h4 id=安装过程>安装过程</h4><p>安装过程可以参考网上其他人的帖子。一般有两种方式</p><ol><li>选择<code>ubuntu和mac os x共存</code>，系统会自动被安装到空闲分区。</li><li>选择<code>其他选项</code>，可以自己手动分区，我一般是选这个来手动分区。</li></ol><p>假设你选了<code>其他选项</code>就会进入分区的窗口，这时你就会看到所有磁盘分区的情况，刚才在mac下给ubuntu预先分好一块空闲分区也在其中，名字可能叫disk02，或者disk03什么的。
接下来要进行四次分区。这一段分区方法参考了百度经验上一个网友的教程，我进行了2处修改，原帖地址<a href=http://jingyan.baidu.com/article/60ccbceb18624464cab197ea.html>http://jingyan.baidu.com/article/60ccbceb18624464cab197ea.html</a></p><p>第一次分区：</p><pre><code>点你刚才留出来的“空闲”分区，点“+”，进行如下设置：
挂载点：“/”
大小：22000MB
新分区的类型：主分区
新分区的位置：空间起始位置
用于：EXT4日志文件系统
</code></pre><p>第二次分区：</p><pre><code>“空闲”处，继续点“+”，如下设置，
挂载点：（不设置）
大小：4096MB
新分区的类型：逻辑分区
新分区的位置：空间起始位置
用于：交换空间
</code></pre><p>第三次分区：</p><pre><code>“空闲”处，继续点“+”，如下设置，
挂载点：/boot
大小：200MB
新分区的类型：逻辑分区
新分区的位置：空间起始位置
用于：EXT4日志文件系统
</code></pre><p>第四次分区：</p><pre><code>“空闲”处，继续点“+”，如下设置，
挂载点：/home
大小：（剩余全部空间，剩下显示多少，就多少）
新分区的类型：逻辑分区
新分区的位置：空间起始位置
用于：EXT4日志文件系统
</code></pre><p>分区设置完毕后，下方还有一项“安装启动引导器的设备”，macbookpro用户需要选择/boot这个分区所在磁盘位置。</p><h3 id=开机引导程序refit>开机引导程序rEFIT</h3><p>安装完ubuntu，重启在mac下下载安装rEFIt。安装好后在终端里输入<code>/efi/refit/. enable-always.sh</code>启动rEFIt。重启，你就会看到ubuntu的选项。</p><h3 id=xubuntu估计lubuntu和kubuntu也应该适用仅是猜想>Xubuntu(估计Lubuntu和Kubuntu也应该适用，仅是猜想。)</h3><h3 id=准备工作-1>准备工作</h3><h4 id=如何刻录镜像到移动设备>如何刻录镜像到移动设备</h4><p>这个问题很重要，如果你下载了iso格式的Xubuntu系统镜像，
你需要将该镜像不经过任何转换的完整刻录到移动设备或光盘上
（我使用的是unetbootin 这个软件，开源，跨平台，操作简便）。
注意，绝对不可以将iso格式转换成img（mac镜像）后刻录。
这样会导致ubuntu部分版本无法安装grub引导器。</p><h4 id=开机引导程序refit-1>开机引导程序rEFIt</h4><p>安装完的系统无法被mac直接引导，所以需要安装rEFIt引导。如果不想要安装它，
可以参考下边附录1里的安装方法。重新修改引导文件。</p><h4 id=安装过程-1>安装过程</h4><ol><li>在官网下载xubuntu镜像，使用uneetbootin刻录到设备
上(mac版的unetbootin貌似刻录iso有问题，可以在windows上下载该软件使用)。</li><li>重启，开机界面按住<code>option</code>键，有个windows命名的移动设备图标，选中进入。</li><li>安装过程不敷述, 装后重启</li><li>从mac进入，安装rEFIt，在shell里运行<code>/efi/refit/. enable-always.sh</code>启动rEFIt</li><li>重启，出现两个图标，苹果代表mac，企鹅代表linux。至此，完成安装过程。</li></ol><h2 id=ubuntu或xubuntu安装后的一些配置>ubuntu或Xubuntu安装后的一些配置</h2><p>打开系统配置文件，</p><pre><code>sudo gedit /etc/rc.local
</code></pre><p>在exit 0 前边加入下边对应的语句,
默认关闭功能键Fn:</p><pre><code>echo 2 &gt; /sys/module/hid_apple/parameters/fnmode
</code></pre><p>设置默认亮度(数字2565可以修改任意亮度)（xubuntu下不起作用，原因未知）</p><pre><code>echo  2565 &gt; /sys/class/backlight/intel_backlight/brightness
</code></pre><p>设置键盘灯亮度（数字1代表亮度):</p><pre><code>echo 1 &gt; /sys/class/leds/smc::kbd_backlight/brightness
</code></pre><h3 id=附录1>附录1</h3><p><a href=https://help.ubuntu.com/community/MacBookPro11-1/Saucy>https://help.ubuntu.com/community/MacBookPro11-1/Saucy</a></p></div></article><button class=floating-button>
<a class=floating-button__link href=https://sund.site><span>home</span></a></button></div><footer class=post-footer><div class=footer><div>© 2021, Steve Sun</div><div class=footer__socials><a href=https://twitter.com/way2steve target=_blank class=social-link title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0v24h24V0H0zm18.862 9.237c.208 4.617-3.235 9.765-9.33 9.765-1.854.0-3.579-.543-5.032-1.475 1.742.205 3.48-.278 4.86-1.359-1.437-.027-2.649-.976-3.066-2.28.515.098 1.021.069 1.482-.056-1.579-.317-2.668-1.739-2.633-3.26.442.246.949.394 1.486.411-1.461-.977-1.875-2.907-1.016-4.383 1.619 1.986 4.038 3.293 6.766 3.43-.479-2.053 1.079-4.03 3.198-4.03.944.0 1.797.398 2.396 1.037.748-.147 1.451-.42 2.085-.796-.245.767-.766 1.41-1.443 1.816.664-.08 1.297-.256 1.885-.517-.44.656-.997 1.234-1.638 1.697z"/></svg></a><a href=https://github.com/stevedsun target=_blank class=social-link title="Github link" rel=noopener aria-label="follow on Github——Opens in a new window"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0v24h24V0H0zm14.534 19.59c-.406.078-.534-.171-.534-.384v-2.195c0-.747-.262-1.233-.55-1.481 1.782-.198 3.654-.875 3.654-3.947.0-.874-.311-1.588-.824-2.147.083-.202.357-1.016-.079-2.117.0.0-.671-.215-2.198.82-.639-.18-1.323-.267-2.003-.271-.68.003-1.364.091-2.003.269-1.528-1.035-2.2-.82-2.2-.82-.434 1.102-.16 1.915-.077 2.118-.512.56-.824 1.273-.824 2.147.0 3.064 1.867 3.751 3.645 3.954-.229.2-.436.552-.508 1.07-.457.204-1.614.557-2.328-.666.0.0-.423-.768-1.227-.825.0.0-.78-.01-.055.487.0.0.525.246.889 1.17.0.0.463 1.428 2.688.944v1.489c0 .211-.129.459-.528.385-3.18-1.057-5.472-4.056-5.472-7.59.0-4.419 3.582-8 8-8s8 3.581 8 8c0 3.533-2.289 6.531-5.466 7.59z"/></svg></a></div></div></footer><script src=https://sund.site/js/script.js></script></body></html>