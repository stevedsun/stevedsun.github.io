<!doctype html><html class="not-ready lg:text-base" style=--bg:#faf8f1 lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>规范的错误信息 - Steve Sun</title><meta name=theme-color><meta name=description content="本文整理了 Google 官方文档中关于错误信息的编写规范。适用于有一定编程经验，尤其从事业务开发的程序员。
通过本文你可以：
写出风格统一、用户友好的错误信息 提高代码的可维护性，降低沟通成本 Google 文档原文：Error Messages
基本原则 错误不应该被掩盖 (Don&rsquo;t fail silently) 遵循语言的规范 (Follow the programming language guides) 实现完整的错误模型 (Implement the full error model) 包含错误码、错误内容、错误原因、处理方法
避免吞掉问题根源 (Avoid swallowing the root cause) 输出错误代码 (Log the error codes) 快速抛出错误 (Raise errors immediately) 解释错误原因 使用错误信息给用户解释原因时，应该遵循：
具体，准确，避免含糊。 在错误信息中包含用户输入的错误内容。如果输入的内容特别长： 渐进地显示，提供一个可展开详情的省略号。 截断内容，只保留必要部分。 明确告诉用户，系统的要求和限制 解释如何处理问题 对用户来说，错误信息必须有可操作性。也就是说，在解释了问题的原因后，说明如何解决这个问题。 最好给用户提供一个例子。 清晰的错误信息 简明扼要，使用主动语态。（这方面内容可以参考技术文档写作指南） 避免出现双重否定句式。 让目标用户能够理解，即根据用户掌握的知识，提供有帮助的内容。 专业术语应前后一致。 错误信息的格式 使用链接提供更多信息。 渐进式呈现错误信息（比如可以展开详情的省略号）。 错误提示应该贴近错误发生的位置。 避免错误信息滥用字体或颜色。 使用正确的语气: 不要告诉用户错在哪，告诉用户应该做什么。 避免责备、幽默、道歉的语气。 对后端开发的建议 错误要有错误码 可以在错误信息结构里提供一个指向错误解释的 ID，如： { &#34;error&#34;: &#34;Bad Request - Request is missing a required parameter: -collection_name."><meta name=author content="Steve Sun"><link rel="preload stylesheet" as=style href=https://sund.site/main.min.css><script defer src=https://sund.site/highlight.min.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=preload as=image href=https://sund.site/theme.svg><link rel=preload as=image href=https://sund.site/twitter.svg><link rel=preload as=image href=https://sund.site/github.svg><link rel=preload as=image href=https://sund.site/rss.svg><link rel=icon href=https://sund.site/favicon.ico><link rel=apple-touch-icon href=https://sund.site/apple-touch-icon.png><meta name=generator content="Hugo 0.119.0"><meta itemprop=name content="规范的错误信息"><meta itemprop=description content="本文整理了 Google 官方文档中关于错误信息的编写规范。适用于有一定编程经验，尤其从事业务开发的程序员。
通过本文你可以：
写出风格统一、用户友好的错误信息 提高代码的可维护性，降低沟通成本 Google 文档原文：Error Messages
基本原则 错误不应该被掩盖 (Don&rsquo;t fail silently) 遵循语言的规范 (Follow the programming language guides) 实现完整的错误模型 (Implement the full error model) 包含错误码、错误内容、错误原因、处理方法
避免吞掉问题根源 (Avoid swallowing the root cause) 输出错误代码 (Log the error codes) 快速抛出错误 (Raise errors immediately) 解释错误原因 使用错误信息给用户解释原因时，应该遵循：
具体，准确，避免含糊。 在错误信息中包含用户输入的错误内容。如果输入的内容特别长： 渐进地显示，提供一个可展开详情的省略号。 截断内容，只保留必要部分。 明确告诉用户，系统的要求和限制 解释如何处理问题 对用户来说，错误信息必须有可操作性。也就是说，在解释了问题的原因后，说明如何解决这个问题。 最好给用户提供一个例子。 清晰的错误信息 简明扼要，使用主动语态。（这方面内容可以参考技术文档写作指南） 避免出现双重否定句式。 让目标用户能够理解，即根据用户掌握的知识，提供有帮助的内容。 专业术语应前后一致。 错误信息的格式 使用链接提供更多信息。 渐进式呈现错误信息（比如可以展开详情的省略号）。 错误提示应该贴近错误发生的位置。 避免错误信息滥用字体或颜色。 使用正确的语气: 不要告诉用户错在哪，告诉用户应该做什么。 避免责备、幽默、道歉的语气。 对后端开发的建议 错误要有错误码 可以在错误信息结构里提供一个指向错误解释的 ID，如： { &#34;error&#34;: &#34;Bad Request - Request is missing a required parameter: -collection_name."><meta itemprop=datePublished content="2022-08-23T22:18:00+08:00"><meta itemprop=dateModified content="2022-08-23T22:18:00+08:00"><meta itemprop=wordCount content="90"><meta itemprop=keywords content="错误日志,技术文档,"><meta name=twitter:card content="summary"><meta name=twitter:title content="规范的错误信息"><meta name=twitter:description content="本文整理了 Google 官方文档中关于错误信息的编写规范。适用于有一定编程经验，尤其从事业务开发的程序员。
通过本文你可以：
写出风格统一、用户友好的错误信息 提高代码的可维护性，降低沟通成本 Google 文档原文：Error Messages
基本原则 错误不应该被掩盖 (Don&rsquo;t fail silently) 遵循语言的规范 (Follow the programming language guides) 实现完整的错误模型 (Implement the full error model) 包含错误码、错误内容、错误原因、处理方法
避免吞掉问题根源 (Avoid swallowing the root cause) 输出错误代码 (Log the error codes) 快速抛出错误 (Raise errors immediately) 解释错误原因 使用错误信息给用户解释原因时，应该遵循：
具体，准确，避免含糊。 在错误信息中包含用户输入的错误内容。如果输入的内容特别长： 渐进地显示，提供一个可展开详情的省略号。 截断内容，只保留必要部分。 明确告诉用户，系统的要求和限制 解释如何处理问题 对用户来说，错误信息必须有可操作性。也就是说，在解释了问题的原因后，说明如何解决这个问题。 最好给用户提供一个例子。 清晰的错误信息 简明扼要，使用主动语态。（这方面内容可以参考技术文档写作指南） 避免出现双重否定句式。 让目标用户能够理解，即根据用户掌握的知识，提供有帮助的内容。 专业术语应前后一致。 错误信息的格式 使用链接提供更多信息。 渐进式呈现错误信息（比如可以展开详情的省略号）。 错误提示应该贴近错误发生的位置。 避免错误信息滥用字体或颜色。 使用正确的语气: 不要告诉用户错在哪，告诉用户应该做什么。 避免责备、幽默、道歉的语气。 对后端开发的建议 错误要有错误码 可以在错误信息结构里提供一个指向错误解释的 ID，如： { &#34;error&#34;: &#34;Bad Request - Request is missing a required parameter: -collection_name."></head><body class="text-black duration-200 ease-out dark:text-white"><header class="mx-auto flex h-[4.5rem] max-w-3xl px-8 lg:justify-center"><div class="relative z-50 mr-auto flex items-center"><a class="-translate-x-[1px] -translate-y-[1px] text-2xl font-semibold" href=https://sund.site/>Steve Sun</a><div class="btn-dark text-[0] ml-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.svg)_left_center/cover_no-repeat] dark:invert dark:[background-position:right]" role=button aria-label=Dark></div></div><div class="btn-menu relative z-50 -mr-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden" role=button aria-label=Menu></div><script>const htmlClass=document.documentElement.classList;setTimeout(()=>{htmlClass.remove("not-ready")},10);const btnMenu=document.querySelector(".btn-menu");btnMenu.addEventListener("click",()=>{htmlClass.toggle("open")});const metaTheme=document.querySelector('meta[name="theme-color"]'),lightBg="#faf8f1".replace(/"/g,""),setDark=e=>{metaTheme.setAttribute("content",e?"#000":lightBg),htmlClass[e?"add":"remove"]("dark"),localStorage.setItem("dark",e)},darkScheme=window.matchMedia("(prefers-color-scheme: dark)");if(htmlClass.contains("dark"))setDark(!0);else{const e=localStorage.getItem("dark");setDark(e?e==="true":darkScheme.matches)}darkScheme.addEventListener("change",e=>{setDark(e.matches)});const btnDark=document.querySelector(".btn-dark");btnDark.addEventListener("click",()=>{setDark(localStorage.getItem("dark")!=="true")})</script><div class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"><nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-6"><a class="block text-center text-2xl leading-[5rem] lg:text-base lg:font-normal" href=/about/>About</a></nav><nav class="mt-12 flex justify-center space-x-10 dark:invert lg:ml-12 lg:mt-0 lg:items-center lg:space-x-6"><a class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./twitter.svg) href=https://twitter.com/way2steve target=_blank rel=me>twitter</a>
<a class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./github.svg) href=https://github.com/stevedsun target=_blank rel=me>github</a>
<a class="h-8 w-8 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6" style=--url:url(./rss.svg) href=https://sund.site/index.xml target=_blank rel=alternate>rss</a></nav></div></header><main class="prose prose-neutral relative mx-auto min-h-[calc(100%-9rem)] max-w-3xl px-8 pb-16 pt-12 dark:prose-invert"><article><header class=mb-16><h1 class="!my-0 pb-2.5">规范的错误信息</h1><div class="text-sm antialiased opacity-60"><time>Aug 23, 2022</time></div></header><section><p><img src=/images/20221031083917.png alt></p><p>本文整理了 Google 官方文档中关于错误信息的编写规范。适用于有一定编程经验，尤其从事业务开发的程序员。</p><p>通过本文你可以：</p><ul><li>写出风格统一、用户友好的错误信息</li><li>提高代码的可维护性，降低沟通成本</li></ul><p>Google 文档原文：<a href=https://developers.google.com/tech-writing/error-messages>Error Messages</a></p><h2 id=基本原则>基本原则</h2><ul><li>错误不应该被掩盖 (Don&rsquo;t fail silently)</li><li>遵循语言的规范 (Follow the programming language guides)</li><li>实现完整的错误模型 (Implement the full error model)<blockquote><p>包含错误码、错误内容、错误原因、处理方法</p></blockquote></li><li>避免吞掉问题根源 (Avoid swallowing the root cause)</li><li>输出错误代码 (Log the error codes)</li><li>快速抛出错误 (Raise errors immediately)</li></ul><h2 id=解释错误原因>解释错误原因</h2><p>使用错误信息给用户解释原因时，应该遵循：</p><ul><li>具体，准确，避免含糊。</li><li>在错误信息中包含用户输入的错误内容。如果输入的内容特别长：<ul><li>渐进地显示，提供一个可展开详情的省略号。</li><li>截断内容，只保留必要部分。</li></ul></li><li>明确告诉用户，系统的要求和限制</li></ul><h2 id=解释如何处理问题>解释如何处理问题</h2><ul><li>对用户来说，错误信息必须有可操作性。也就是说，在解释了问题的原因后，说明如何解决这个问题。</li><li>最好给用户提供一个例子。</li></ul><h2 id=清晰的错误信息>清晰的错误信息</h2><ul><li>简明扼要，使用主动语态。（这方面内容可以参考<a href=https://sund.site/posts/2022/technical-writing/>技术文档写作指南</a>）</li><li>避免出现双重否定句式。</li><li>让目标用户能够理解，即根据用户掌握的知识，提供有帮助的内容。</li><li>专业术语应前后一致。</li></ul><h2 id=错误信息的格式>错误信息的格式</h2><ul><li>使用链接提供更多信息。</li><li>渐进式呈现错误信息（比如可以展开详情的省略号）。</li><li>错误提示应该贴近错误发生的位置。</li><li>避免错误信息滥用字体或颜色。</li><li>使用正确的语气:<ul><li>不要告诉用户错在哪，告诉用户应该做什么。</li><li>避免责备、幽默、道歉的语气。</li></ul></li></ul><h2 id=对后端开发的建议>对后端开发的建议</h2><ul><li>错误要有错误码</li><li>可以在错误信息结构里提供一个指向错误解释的 ID，如：<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;error&#34;</span>: <span style=color:#e6db74>&#34;Bad Request - Request is missing a required parameter: -collection_name. Update parameter and resubmit. Issue Reference Number BR0x0071&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li></ul></section><script type=text/javascript src=https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js data-name=bmc-button data-slug=stevedsun data-color=#FFDD00 data-emoji data-font=Cookie data-text="Buy me a coffee" data-outline-color=#000000 data-font-color=#000000 data-coffee-color=#ffffff></script><footer class="mt-12 flex flex-wrap"><a class="mb-1.5 mr-1.5 rounded-lg bg-black/[3%] px-5 py-1.5 no-underline dark:bg-white/[8%]" href=https://sund.site/tags/%E9%94%99%E8%AF%AF%E6%97%A5%E5%BF%97>错误日志</a>
<a class="mb-1.5 mr-1.5 rounded-lg bg-black/[3%] px-5 py-1.5 no-underline dark:bg-white/[8%]" href=https://sund.site/tags/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3>技术文档</a></footer><nav class="mt-24 flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]"><a class="flex w-1/2 items-center rounded-l-md p-6 pr-3 font-semibold no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]" href=https://sund.site/posts/2022/fogg-behavior-model/><span class=mr-1.5>←</span><span>渐进式地改变生活习惯——我对福格行为模型的理解</span></a>
<a class="ml-auto flex w-1/2 items-center justify-end rounded-r-md p-6 pl-3 font-semibold no-underline hover:bg-black/[2%] dark:hover:bg-white/[3%]" href=https://sund.site/posts/2022/technical-writing/><span>技术文档写作指南</span><span class=ml-1.5>→</span></a></nav></article></main><footer class="opaco mx-auto flex h-[4.5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"><div class=mr-auto>&copy; 2023
<a class=link href=https://sund.site/>Steve Sun</a></div><a class="link mx-6" href=https://gohugo.io/ rel=noopener target=_blank>Powered by Hugo️️</a>️
<a class=link href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>✎ Paper</a></footer></body></html>