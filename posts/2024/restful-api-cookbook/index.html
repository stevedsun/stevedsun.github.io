<!doctype html><html lang=zh-CN><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://sund.site/favicon.ico><title>RESTful Web Service Cookbook ç¬”è®° | Steve Sun</title><meta name=title content="RESTful Web Service Cookbook ç¬”è®°"><meta name=description content='RESTful Web Service Cookbook æ˜¯ä¸€æœ¬ç®€çŸ­ã€ç²¾ç‚¼çš„ RESTful æ¥å£è®¾è®¡æŒ‡å—ã€‚è¿™ç¯‡æ–‡ç« ï¼ˆç¬”è®°ï¼‰ç”¨æ¥è®°å½•è¿™æœ¬ä¹¦ä¸­æåˆ°çš„é‡ç‚¹ã€‚

å› ä¸º RESTful å¯¹åç«¯å¼€å‘æ¥è¯´å®åœ¨å¤ªç†Ÿæ‚‰ä¸è¿‡ï¼Œæ‰€ä»¥æˆ‘ä¼šçœç•¥æ‰é‚£äº›ä¹ ä»¥ä¸ºå¸¸çš„çº¦å®šï¼Œåªè®°å½•ä¹¦ä¸­æåˆ°çš„ã€å¤§å¤šæ•°å¼€å‘è€…æ²¡æœ‰æ³¨æ„åˆ°çš„ç»†èŠ‚ã€‚
HTTP Method
GET
è¿›è¡Œå®‰å…¨ä¸å¹‚ç­‰çš„ä¿¡æ¯è·å–ã€‚
POST
æ‰§è¡Œçš„ç›®æ ‡æ˜¯ä¸€ä¸ªèµ„æºé›†åˆï¼ˆå·¥å‚ï¼‰ï¼Œè€Œä¸æ˜¯å…·ä½“çš„ URIã€‚
é€‚ç”¨åœºæ™¯ï¼š

åˆ›å»ºæ–°çš„èµ„æº,æŠŠèµ„æºä½œä¸ºä¸€ä¸ªå·¥å‚ã€‚
é€šè¿‡ä¸€ä¸ªæ§åˆ¶å™¨èµ„æºæ¥ä¿®æ”¹ä¸€ä¸ªæˆ–å¤šä¸ªèµ„æºã€‚
æ‰§è¡Œéœ€è¦å¤§æ•°æ®è¾“å…¥ï¼ˆå‚æ•°è¾ƒå¤šï¼‰çš„æŸ¥è¯¢ã€‚
åœ¨å…¶ä»– HTTP æ–¹æ³•çœ‹ä¸Šå»ä¸åˆé€‚æ—¶ï¼Œæ‰§è¡Œä¸å®‰å…¨æˆ–éå¹‚ç­‰çš„æ“ä½œã€‚

è§£å†³æ–¹æ¡ˆï¼š

å°†ä¸€ä¸ªå·²å­˜åœ¨çš„èµ„æºæ ‡è¯†ä¸ºåˆ›å»ºæ–°èµ„æºçš„å·¥å‚ã€‚è™½ç„¶æ‚¨å¯ä»¥æŠŠä»»æ„èµ„æºç”¨åšå·¥å‚,ä½†å¸¸è§çš„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªé›†åˆèµ„æºã€‚
è®©å®¢æˆ·ç«¯å‘å·¥å‚èµ„æºæäº¤é™„æœ‰éœ€è¦åˆ›å»ºèµ„æºçš„è¡¨è¿°çš„ POST è¯·æ±‚ã€‚é€šè¿‡å¯é€‰æ”¯æŒçš„ Slug å¤´, å®¢æˆ·ç«¯å¯ä»¥å‘æœåŠ¡å™¨å»ºè®®ä¸€ä¸ªåå­—,ä½œä¸ºè¢«åˆ›å»ºèµ„æºçš„ URI çš„ä¸€éƒ¨åˆ†ã€‚
èµ„æºåˆ›å»ºä¹‹å,è¿”å›å“åº”ç  201(Created),å¹¶åœ¨ Location å¤´ä¸­åŒ…å«æ–°åˆ›å»ºèµ„æºçš„ URIã€‚
å¦‚æœå“åº”æ­£æ–‡åŒ…å«äº†æ–°åˆ›å»ºèµ„æºçš„å®Œæ•´è¡¨è¿°,é‚£ä¹ˆåœ¨ Content-Location å¤´ä¸­åŒ…å«æ–°åˆ›å»ºèµ„æºçš„ URIã€‚

PUT
ä»…åœ¨å®¢æˆ·ç«¯å¯ä»¥æ§åˆ¶ URI çš„æ„æˆæ—¶,æ‰ä½¿ç”¨ PUT æ–¹æ³•åˆ›å»ºæ–°èµ„æºã€‚ï¼ˆæ¢å¥è¯è¯´ï¼ŒPUT ä¹Ÿå¯ä»¥åˆ›å»ºèµ„æºï¼Œä½†æ˜¯ä»…é™äºå®¢æˆ·ç«¯å¯ä»¥æŒ‡å®š URIï¼‰
ç¡®å®šèµ„æºå¯¹è±¡çš„ç²’åº¦
åº”è¯¥ä»¥é€‚åˆå®¢æˆ·ç«¯ä½¿ç”¨æ¨¡å¼çš„æ–¹å¼æ¥è®¾è®¡èµ„æº,è€Œä¸æ˜¯åŸºäºç°æœ‰çš„æ•°æ®åº“æˆ–å¯¹è±¡æ¨¡å‹ã€‚

å¯ç¼“å­˜æ€§
å‡å°ä¿®æ”¹é¢‘ç‡
å¯å˜æ€§â€”â€”åˆ†ç¦»å¯å˜å’Œä¸å¯å˜æ•°æ®

å¦‚ä½•è®¾è®¡å¤åˆèµ„æº?
å¤åˆèµ„æºé™ä½äº†ç»Ÿä¸€æ¥å£çš„å¯è§æ€§,å› ä¸ºå®ƒä»¬çš„è¡¨è¿°ä¸­åŒ…å«äº†å’Œå…¶ä»–èµ„æºç›¸é‡å çš„æ•°æ®ã€‚

å¦‚æœç¬¦åˆèµ„æºä½¿ç”¨é¢‘ç‡ä¸é«˜ï¼Œå¯ä»¥è€ƒè™‘ç”¨ç¼“å­˜æ›¿ä»£ã€‚
è€ƒè™‘ç½‘ç»œå¼€é”€ï¼Œå¤åˆèµ„æºä¼šä¸ä¼šé™ä½æœåŠ¡ç«¯ååé‡ï¼Œå¢å¤§å»¶æ—¶ã€‚

HTTP Body
ä»¥ JSON æ ¼å¼çš„ Body ä¸ºä¾‹ï¼š

æœ€å¥½åŒ…å«ä¸€ä¸ªæŒ‡å‘ self çš„é“¾æ¥
å¦‚æœåˆ†é¡µï¼Œæœ€å¥½åŒ…å«ä¸‹ä¸€é¡µçš„é“¾æ¥
å¦‚æœåˆ†é¡µï¼Œè¦æŒ‡ç¤ºé›†åˆçš„å¤§å°ï¼ˆæ€»æ•°ï¼‰
å¦‚æœæŸ¥è¯¢å¯¹è±¡æ˜¯æœ¬åœ°åŒ–çš„ï¼Œæ·»åŠ ä¸€ä¸ªå±æ€§æ¥è¡¨ç¤ºæœ¬åœ°åŒ–å†…å®¹çš„è¯­è¨€

{
  "name": "John",
  "id": "urn:example:user:1234",
  "link": {
    "rel": "self",
    "href": "http://www.example.org/person/john"
  },
  "address": {
    "id": "urn:example:address:4567",
    "link": {
      "rel": "self",
      "href": "http://www.example.org/person/john/address"
    }
  }
}
HTTP Response

å¯¹äºå®¢æˆ·ç«¯é”™è¯¯ï¼Œè¿”å› 4xx çŠ¶æ€ç  + Date ï¼ˆé”™è¯¯å‘ç”Ÿçš„æ—¶é—´ï¼‰ã€‚
å¯¹äºæœåŠ¡ç«¯é”™è¯¯ï¼Œè¿”å› 5xx çŠ¶æ€ç  + Date ï¼ˆé”™è¯¯å‘ç”Ÿçš„æ—¶é—´ï¼‰ã€‚
Body ä¸­è¦æè¿°é”™è¯¯ï¼Œå¦‚æœæœ‰å¤–éƒ¨æ–‡æ¡£å’Œé“¾æ¥å¯å‚è€ƒï¼Œåœ¨ Header æä¾›ä¸€ä¸ª Link å¤´æˆ–ç›´æ¥æŠŠé“¾æ¥å†™åœ¨ Body é‡Œã€‚
ä¸ºäº†åæœŸè¿½è¸ªæˆ–åˆ†æï¼Œåœ¨æœåŠ¡å™¨ä¸Šè®°å½•äº†é”™è¯¯æ—¥å¿—ï¼Œåº”è¯¥æä¾›ä¸€ä¸ªå¯ä»¥æ‰¾åˆ°è¯¥é”™è¯¯çš„æ ‡è¯†ç¬¦æˆ–é“¾æ¥ã€‚

è®¾è®¡æŸ¥è¯¢ç»“æ„
è®¾è®¡æŸ¥è¯¢è¯·æ±‚

ä¸ºäº†ç¼“å­˜å’Œæ€§èƒ½ï¼Œå°½é‡é¿å…èŒƒå›´æŸ¥è¯¢ã€‚è§£å†³æ–¹æ³•åŒ…æ‹¬ï¼š

ä½¿ç”¨é¢„å®šä¹‰æŸ¥è¯¢
ä¹Ÿå¯ä»¥ä½¿ç”¨ HTTP Headerï¼š Range


é¿å…ä½¿ç”¨é€šç”¨è¯­è¨€ï¼ˆSQLã€XPATHï¼‰çš„æŸ¥è¯¢ã€‚
é¿å… URI å’Œæ•°æ®å­˜å‚¨æ–¹å¼çš„ç´§è€¦åˆï¼ˆå‰ç«¯æŠŠåç«¯å½“ä½œæ•°æ®åº“ï¼‰ã€‚
å¯¹äºå‚æ•°è¾ƒå¤šï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ POSTï¼ˆå› ä¸º URI é•¿åº¦æœ‰æœ€å¤§é™åˆ¶ï¼‰

POST æ¥å£çš„ç¼ºç‚¹æ˜¯ä¸§å¤±äº†ç¼“å­˜èƒ½åŠ›
POST è¯·æ±‚æ˜¯ä¸å¯ç¼“å­˜çš„ï¼Œæ‰€ä»¥ Cache-Control å’Œ Expires å¤´æ— æµäºäº‹
è§£å†³ç¼“å­˜é—®é¢˜ï¼Œå¯ä»¥è®© POST åˆ›å»ºä¸€ä¸ªä¸´æ—¶èµ„æºï¼ŒæŠŠ link è¿”å›å‰ç«¯ï¼Œå‰ç«¯ä¸‹æ¬¡ç”¨ GET è·å–è¯¥èµ„æº



è®¾è®¡æŸ¥è¯¢å“åº”ç»“æœ

è¿”å›é›†åˆã€‚æ·»åŠ åˆç†çš„ç¼“å­˜è¿‡æœŸå¤´ã€‚
å¦‚æœæ²¡æœ‰ç»“æœï¼Œåº”è¯¥è¿”å›ç©ºé›†åˆã€‚
'><meta name=keywords content="api,"><link rel=canonical href=https://sund.site/posts/2024/restful-api-cookbook/><meta property="og:url" content="https://sund.site/posts/2024/restful-api-cookbook/"><meta property="og:site_name" content="Steve Sun"><meta property="og:title" content="RESTful Web Service Cookbook ç¬”è®°"><meta property="og:description" content='RESTful Web Service Cookbook æ˜¯ä¸€æœ¬ç®€çŸ­ã€ç²¾ç‚¼çš„ RESTful æ¥å£è®¾è®¡æŒ‡å—ã€‚è¿™ç¯‡æ–‡ç« ï¼ˆç¬”è®°ï¼‰ç”¨æ¥è®°å½•è¿™æœ¬ä¹¦ä¸­æåˆ°çš„é‡ç‚¹ã€‚
å› ä¸º RESTful å¯¹åç«¯å¼€å‘æ¥è¯´å®åœ¨å¤ªç†Ÿæ‚‰ä¸è¿‡ï¼Œæ‰€ä»¥æˆ‘ä¼šçœç•¥æ‰é‚£äº›ä¹ ä»¥ä¸ºå¸¸çš„çº¦å®šï¼Œåªè®°å½•ä¹¦ä¸­æåˆ°çš„ã€å¤§å¤šæ•°å¼€å‘è€…æ²¡æœ‰æ³¨æ„åˆ°çš„ç»†èŠ‚ã€‚
HTTP Method GET è¿›è¡Œå®‰å…¨ä¸å¹‚ç­‰çš„ä¿¡æ¯è·å–ã€‚
POST æ‰§è¡Œçš„ç›®æ ‡æ˜¯ä¸€ä¸ªèµ„æºé›†åˆï¼ˆå·¥å‚ï¼‰ï¼Œè€Œä¸æ˜¯å…·ä½“çš„ URIã€‚
é€‚ç”¨åœºæ™¯ï¼š
åˆ›å»ºæ–°çš„èµ„æº,æŠŠèµ„æºä½œä¸ºä¸€ä¸ªå·¥å‚ã€‚ é€šè¿‡ä¸€ä¸ªæ§åˆ¶å™¨èµ„æºæ¥ä¿®æ”¹ä¸€ä¸ªæˆ–å¤šä¸ªèµ„æºã€‚ æ‰§è¡Œéœ€è¦å¤§æ•°æ®è¾“å…¥ï¼ˆå‚æ•°è¾ƒå¤šï¼‰çš„æŸ¥è¯¢ã€‚ åœ¨å…¶ä»– HTTP æ–¹æ³•çœ‹ä¸Šå»ä¸åˆé€‚æ—¶ï¼Œæ‰§è¡Œä¸å®‰å…¨æˆ–éå¹‚ç­‰çš„æ“ä½œã€‚ è§£å†³æ–¹æ¡ˆï¼š
å°†ä¸€ä¸ªå·²å­˜åœ¨çš„èµ„æºæ ‡è¯†ä¸ºåˆ›å»ºæ–°èµ„æºçš„å·¥å‚ã€‚è™½ç„¶æ‚¨å¯ä»¥æŠŠä»»æ„èµ„æºç”¨åšå·¥å‚,ä½†å¸¸è§çš„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªé›†åˆèµ„æºã€‚ è®©å®¢æˆ·ç«¯å‘å·¥å‚èµ„æºæäº¤é™„æœ‰éœ€è¦åˆ›å»ºèµ„æºçš„è¡¨è¿°çš„ POST è¯·æ±‚ã€‚é€šè¿‡å¯é€‰æ”¯æŒçš„ Slug å¤´, å®¢æˆ·ç«¯å¯ä»¥å‘æœåŠ¡å™¨å»ºè®®ä¸€ä¸ªåå­—,ä½œä¸ºè¢«åˆ›å»ºèµ„æºçš„ URI çš„ä¸€éƒ¨åˆ†ã€‚ èµ„æºåˆ›å»ºä¹‹å,è¿”å›å“åº”ç  201(Created),å¹¶åœ¨ Location å¤´ä¸­åŒ…å«æ–°åˆ›å»ºèµ„æºçš„ URIã€‚ å¦‚æœå“åº”æ­£æ–‡åŒ…å«äº†æ–°åˆ›å»ºèµ„æºçš„å®Œæ•´è¡¨è¿°,é‚£ä¹ˆåœ¨ Content-Location å¤´ä¸­åŒ…å«æ–°åˆ›å»ºèµ„æºçš„ URIã€‚ PUT ä»…åœ¨å®¢æˆ·ç«¯å¯ä»¥æ§åˆ¶ URI çš„æ„æˆæ—¶,æ‰ä½¿ç”¨ PUT æ–¹æ³•åˆ›å»ºæ–°èµ„æºã€‚ï¼ˆæ¢å¥è¯è¯´ï¼ŒPUT ä¹Ÿå¯ä»¥åˆ›å»ºèµ„æºï¼Œä½†æ˜¯ä»…é™äºå®¢æˆ·ç«¯å¯ä»¥æŒ‡å®š URIï¼‰
ç¡®å®šèµ„æºå¯¹è±¡çš„ç²’åº¦ åº”è¯¥ä»¥é€‚åˆå®¢æˆ·ç«¯ä½¿ç”¨æ¨¡å¼çš„æ–¹å¼æ¥è®¾è®¡èµ„æº,è€Œä¸æ˜¯åŸºäºç°æœ‰çš„æ•°æ®åº“æˆ–å¯¹è±¡æ¨¡å‹ã€‚
å¯ç¼“å­˜æ€§ å‡å°ä¿®æ”¹é¢‘ç‡ å¯å˜æ€§â€”â€”åˆ†ç¦»å¯å˜å’Œä¸å¯å˜æ•°æ® å¦‚ä½•è®¾è®¡å¤åˆèµ„æº? å¤åˆèµ„æºé™ä½äº†ç»Ÿä¸€æ¥å£çš„å¯è§æ€§,å› ä¸ºå®ƒä»¬çš„è¡¨è¿°ä¸­åŒ…å«äº†å’Œå…¶ä»–èµ„æºç›¸é‡å çš„æ•°æ®ã€‚
å¦‚æœç¬¦åˆèµ„æºä½¿ç”¨é¢‘ç‡ä¸é«˜ï¼Œå¯ä»¥è€ƒè™‘ç”¨ç¼“å­˜æ›¿ä»£ã€‚ è€ƒè™‘ç½‘ç»œå¼€é”€ï¼Œå¤åˆèµ„æºä¼šä¸ä¼šé™ä½æœåŠ¡ç«¯ååé‡ï¼Œå¢å¤§å»¶æ—¶ã€‚ HTTP Body ä»¥ JSON æ ¼å¼çš„ Body ä¸ºä¾‹ï¼š
æœ€å¥½åŒ…å«ä¸€ä¸ªæŒ‡å‘ self çš„é“¾æ¥ å¦‚æœåˆ†é¡µï¼Œæœ€å¥½åŒ…å«ä¸‹ä¸€é¡µçš„é“¾æ¥ å¦‚æœåˆ†é¡µï¼Œè¦æŒ‡ç¤ºé›†åˆçš„å¤§å°ï¼ˆæ€»æ•°ï¼‰ å¦‚æœæŸ¥è¯¢å¯¹è±¡æ˜¯æœ¬åœ°åŒ–çš„ï¼Œæ·»åŠ ä¸€ä¸ªå±æ€§æ¥è¡¨ç¤ºæœ¬åœ°åŒ–å†…å®¹çš„è¯­è¨€ { "name": "John", "id": "urn:example:user:1234", "link": { "rel": "self", "href": "http://www.example.org/person/john" }, "address": { "id": "urn:example:address:4567", "link": { "rel": "self", "href": "http://www.example.org/person/john/address" } } } HTTP Response å¯¹äºå®¢æˆ·ç«¯é”™è¯¯ï¼Œè¿”å› 4xx çŠ¶æ€ç  + Date ï¼ˆé”™è¯¯å‘ç”Ÿçš„æ—¶é—´ï¼‰ã€‚ å¯¹äºæœåŠ¡ç«¯é”™è¯¯ï¼Œè¿”å› 5xx çŠ¶æ€ç  + Date ï¼ˆé”™è¯¯å‘ç”Ÿçš„æ—¶é—´ï¼‰ã€‚ Body ä¸­è¦æè¿°é”™è¯¯ï¼Œå¦‚æœæœ‰å¤–éƒ¨æ–‡æ¡£å’Œé“¾æ¥å¯å‚è€ƒï¼Œåœ¨ Header æä¾›ä¸€ä¸ª Link å¤´æˆ–ç›´æ¥æŠŠé“¾æ¥å†™åœ¨ Body é‡Œã€‚ ä¸ºäº†åæœŸè¿½è¸ªæˆ–åˆ†æï¼Œåœ¨æœåŠ¡å™¨ä¸Šè®°å½•äº†é”™è¯¯æ—¥å¿—ï¼Œåº”è¯¥æä¾›ä¸€ä¸ªå¯ä»¥æ‰¾åˆ°è¯¥é”™è¯¯çš„æ ‡è¯†ç¬¦æˆ–é“¾æ¥ã€‚ è®¾è®¡æŸ¥è¯¢ç»“æ„ è®¾è®¡æŸ¥è¯¢è¯·æ±‚ ä¸ºäº†ç¼“å­˜å’Œæ€§èƒ½ï¼Œå°½é‡é¿å…èŒƒå›´æŸ¥è¯¢ã€‚è§£å†³æ–¹æ³•åŒ…æ‹¬ï¼š ä½¿ç”¨é¢„å®šä¹‰æŸ¥è¯¢ ä¹Ÿå¯ä»¥ä½¿ç”¨ HTTP Headerï¼š Range é¿å…ä½¿ç”¨é€šç”¨è¯­è¨€ï¼ˆSQLã€XPATHï¼‰çš„æŸ¥è¯¢ã€‚ é¿å… URI å’Œæ•°æ®å­˜å‚¨æ–¹å¼çš„ç´§è€¦åˆï¼ˆå‰ç«¯æŠŠåç«¯å½“ä½œæ•°æ®åº“ï¼‰ã€‚ å¯¹äºå‚æ•°è¾ƒå¤šï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ POSTï¼ˆå› ä¸º URI é•¿åº¦æœ‰æœ€å¤§é™åˆ¶ï¼‰ POST æ¥å£çš„ç¼ºç‚¹æ˜¯ä¸§å¤±äº†ç¼“å­˜èƒ½åŠ› POST è¯·æ±‚æ˜¯ä¸å¯ç¼“å­˜çš„ï¼Œæ‰€ä»¥ Cache-Control å’Œ Expires å¤´æ— æµäºäº‹ è§£å†³ç¼“å­˜é—®é¢˜ï¼Œå¯ä»¥è®© POST åˆ›å»ºä¸€ä¸ªä¸´æ—¶èµ„æºï¼ŒæŠŠ link è¿”å›å‰ç«¯ï¼Œå‰ç«¯ä¸‹æ¬¡ç”¨ GET è·å–è¯¥èµ„æº è®¾è®¡æŸ¥è¯¢å“åº”ç»“æœ è¿”å›é›†åˆã€‚æ·»åŠ åˆç†çš„ç¼“å­˜è¿‡æœŸå¤´ã€‚ å¦‚æœæ²¡æœ‰ç»“æœï¼Œåº”è¯¥è¿”å›ç©ºé›†åˆã€‚'><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-07-13T16:12:34+08:00"><meta property="article:modified_time" content="2024-07-13T16:12:34+08:00"><meta property="article:tag" content="Api"><meta property="og:image" content="https://sund.site/images/share.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://sund.site/images/share.png"><meta name=twitter:title content="RESTful Web Service Cookbook ç¬”è®°"><meta name=twitter:description content='RESTful Web Service Cookbook æ˜¯ä¸€æœ¬ç®€çŸ­ã€ç²¾ç‚¼çš„ RESTful æ¥å£è®¾è®¡æŒ‡å—ã€‚è¿™ç¯‡æ–‡ç« ï¼ˆç¬”è®°ï¼‰ç”¨æ¥è®°å½•è¿™æœ¬ä¹¦ä¸­æåˆ°çš„é‡ç‚¹ã€‚
å› ä¸º RESTful å¯¹åç«¯å¼€å‘æ¥è¯´å®åœ¨å¤ªç†Ÿæ‚‰ä¸è¿‡ï¼Œæ‰€ä»¥æˆ‘ä¼šçœç•¥æ‰é‚£äº›ä¹ ä»¥ä¸ºå¸¸çš„çº¦å®šï¼Œåªè®°å½•ä¹¦ä¸­æåˆ°çš„ã€å¤§å¤šæ•°å¼€å‘è€…æ²¡æœ‰æ³¨æ„åˆ°çš„ç»†èŠ‚ã€‚
HTTP Method GET è¿›è¡Œå®‰å…¨ä¸å¹‚ç­‰çš„ä¿¡æ¯è·å–ã€‚
POST æ‰§è¡Œçš„ç›®æ ‡æ˜¯ä¸€ä¸ªèµ„æºé›†åˆï¼ˆå·¥å‚ï¼‰ï¼Œè€Œä¸æ˜¯å…·ä½“çš„ URIã€‚
é€‚ç”¨åœºæ™¯ï¼š
åˆ›å»ºæ–°çš„èµ„æº,æŠŠèµ„æºä½œä¸ºä¸€ä¸ªå·¥å‚ã€‚ é€šè¿‡ä¸€ä¸ªæ§åˆ¶å™¨èµ„æºæ¥ä¿®æ”¹ä¸€ä¸ªæˆ–å¤šä¸ªèµ„æºã€‚ æ‰§è¡Œéœ€è¦å¤§æ•°æ®è¾“å…¥ï¼ˆå‚æ•°è¾ƒå¤šï¼‰çš„æŸ¥è¯¢ã€‚ åœ¨å…¶ä»– HTTP æ–¹æ³•çœ‹ä¸Šå»ä¸åˆé€‚æ—¶ï¼Œæ‰§è¡Œä¸å®‰å…¨æˆ–éå¹‚ç­‰çš„æ“ä½œã€‚ è§£å†³æ–¹æ¡ˆï¼š
å°†ä¸€ä¸ªå·²å­˜åœ¨çš„èµ„æºæ ‡è¯†ä¸ºåˆ›å»ºæ–°èµ„æºçš„å·¥å‚ã€‚è™½ç„¶æ‚¨å¯ä»¥æŠŠä»»æ„èµ„æºç”¨åšå·¥å‚,ä½†å¸¸è§çš„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªé›†åˆèµ„æºã€‚ è®©å®¢æˆ·ç«¯å‘å·¥å‚èµ„æºæäº¤é™„æœ‰éœ€è¦åˆ›å»ºèµ„æºçš„è¡¨è¿°çš„ POST è¯·æ±‚ã€‚é€šè¿‡å¯é€‰æ”¯æŒçš„ Slug å¤´, å®¢æˆ·ç«¯å¯ä»¥å‘æœåŠ¡å™¨å»ºè®®ä¸€ä¸ªåå­—,ä½œä¸ºè¢«åˆ›å»ºèµ„æºçš„ URI çš„ä¸€éƒ¨åˆ†ã€‚ èµ„æºåˆ›å»ºä¹‹å,è¿”å›å“åº”ç  201(Created),å¹¶åœ¨ Location å¤´ä¸­åŒ…å«æ–°åˆ›å»ºèµ„æºçš„ URIã€‚ å¦‚æœå“åº”æ­£æ–‡åŒ…å«äº†æ–°åˆ›å»ºèµ„æºçš„å®Œæ•´è¡¨è¿°,é‚£ä¹ˆåœ¨ Content-Location å¤´ä¸­åŒ…å«æ–°åˆ›å»ºèµ„æºçš„ URIã€‚ PUT ä»…åœ¨å®¢æˆ·ç«¯å¯ä»¥æ§åˆ¶ URI çš„æ„æˆæ—¶,æ‰ä½¿ç”¨ PUT æ–¹æ³•åˆ›å»ºæ–°èµ„æºã€‚ï¼ˆæ¢å¥è¯è¯´ï¼ŒPUT ä¹Ÿå¯ä»¥åˆ›å»ºèµ„æºï¼Œä½†æ˜¯ä»…é™äºå®¢æˆ·ç«¯å¯ä»¥æŒ‡å®š URIï¼‰
ç¡®å®šèµ„æºå¯¹è±¡çš„ç²’åº¦ åº”è¯¥ä»¥é€‚åˆå®¢æˆ·ç«¯ä½¿ç”¨æ¨¡å¼çš„æ–¹å¼æ¥è®¾è®¡èµ„æº,è€Œä¸æ˜¯åŸºäºç°æœ‰çš„æ•°æ®åº“æˆ–å¯¹è±¡æ¨¡å‹ã€‚
å¯ç¼“å­˜æ€§ å‡å°ä¿®æ”¹é¢‘ç‡ å¯å˜æ€§â€”â€”åˆ†ç¦»å¯å˜å’Œä¸å¯å˜æ•°æ® å¦‚ä½•è®¾è®¡å¤åˆèµ„æº? å¤åˆèµ„æºé™ä½äº†ç»Ÿä¸€æ¥å£çš„å¯è§æ€§,å› ä¸ºå®ƒä»¬çš„è¡¨è¿°ä¸­åŒ…å«äº†å’Œå…¶ä»–èµ„æºç›¸é‡å çš„æ•°æ®ã€‚
å¦‚æœç¬¦åˆèµ„æºä½¿ç”¨é¢‘ç‡ä¸é«˜ï¼Œå¯ä»¥è€ƒè™‘ç”¨ç¼“å­˜æ›¿ä»£ã€‚ è€ƒè™‘ç½‘ç»œå¼€é”€ï¼Œå¤åˆèµ„æºä¼šä¸ä¼šé™ä½æœåŠ¡ç«¯ååé‡ï¼Œå¢å¤§å»¶æ—¶ã€‚ HTTP Body ä»¥ JSON æ ¼å¼çš„ Body ä¸ºä¾‹ï¼š
æœ€å¥½åŒ…å«ä¸€ä¸ªæŒ‡å‘ self çš„é“¾æ¥ å¦‚æœåˆ†é¡µï¼Œæœ€å¥½åŒ…å«ä¸‹ä¸€é¡µçš„é“¾æ¥ å¦‚æœåˆ†é¡µï¼Œè¦æŒ‡ç¤ºé›†åˆçš„å¤§å°ï¼ˆæ€»æ•°ï¼‰ å¦‚æœæŸ¥è¯¢å¯¹è±¡æ˜¯æœ¬åœ°åŒ–çš„ï¼Œæ·»åŠ ä¸€ä¸ªå±æ€§æ¥è¡¨ç¤ºæœ¬åœ°åŒ–å†…å®¹çš„è¯­è¨€ { "name": "John", "id": "urn:example:user:1234", "link": { "rel": "self", "href": "http://www.example.org/person/john" }, "address": { "id": "urn:example:address:4567", "link": { "rel": "self", "href": "http://www.example.org/person/john/address" } } } HTTP Response å¯¹äºå®¢æˆ·ç«¯é”™è¯¯ï¼Œè¿”å› 4xx çŠ¶æ€ç  + Date ï¼ˆé”™è¯¯å‘ç”Ÿçš„æ—¶é—´ï¼‰ã€‚ å¯¹äºæœåŠ¡ç«¯é”™è¯¯ï¼Œè¿”å› 5xx çŠ¶æ€ç  + Date ï¼ˆé”™è¯¯å‘ç”Ÿçš„æ—¶é—´ï¼‰ã€‚ Body ä¸­è¦æè¿°é”™è¯¯ï¼Œå¦‚æœæœ‰å¤–éƒ¨æ–‡æ¡£å’Œé“¾æ¥å¯å‚è€ƒï¼Œåœ¨ Header æä¾›ä¸€ä¸ª Link å¤´æˆ–ç›´æ¥æŠŠé“¾æ¥å†™åœ¨ Body é‡Œã€‚ ä¸ºäº†åæœŸè¿½è¸ªæˆ–åˆ†æï¼Œåœ¨æœåŠ¡å™¨ä¸Šè®°å½•äº†é”™è¯¯æ—¥å¿—ï¼Œåº”è¯¥æä¾›ä¸€ä¸ªå¯ä»¥æ‰¾åˆ°è¯¥é”™è¯¯çš„æ ‡è¯†ç¬¦æˆ–é“¾æ¥ã€‚ è®¾è®¡æŸ¥è¯¢ç»“æ„ è®¾è®¡æŸ¥è¯¢è¯·æ±‚ ä¸ºäº†ç¼“å­˜å’Œæ€§èƒ½ï¼Œå°½é‡é¿å…èŒƒå›´æŸ¥è¯¢ã€‚è§£å†³æ–¹æ³•åŒ…æ‹¬ï¼š ä½¿ç”¨é¢„å®šä¹‰æŸ¥è¯¢ ä¹Ÿå¯ä»¥ä½¿ç”¨ HTTP Headerï¼š Range é¿å…ä½¿ç”¨é€šç”¨è¯­è¨€ï¼ˆSQLã€XPATHï¼‰çš„æŸ¥è¯¢ã€‚ é¿å… URI å’Œæ•°æ®å­˜å‚¨æ–¹å¼çš„ç´§è€¦åˆï¼ˆå‰ç«¯æŠŠåç«¯å½“ä½œæ•°æ®åº“ï¼‰ã€‚ å¯¹äºå‚æ•°è¾ƒå¤šï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ POSTï¼ˆå› ä¸º URI é•¿åº¦æœ‰æœ€å¤§é™åˆ¶ï¼‰ POST æ¥å£çš„ç¼ºç‚¹æ˜¯ä¸§å¤±äº†ç¼“å­˜èƒ½åŠ› POST è¯·æ±‚æ˜¯ä¸å¯ç¼“å­˜çš„ï¼Œæ‰€ä»¥ Cache-Control å’Œ Expires å¤´æ— æµäºäº‹ è§£å†³ç¼“å­˜é—®é¢˜ï¼Œå¯ä»¥è®© POST åˆ›å»ºä¸€ä¸ªä¸´æ—¶èµ„æºï¼ŒæŠŠ link è¿”å›å‰ç«¯ï¼Œå‰ç«¯ä¸‹æ¬¡ç”¨ GET è·å–è¯¥èµ„æº è®¾è®¡æŸ¥è¯¢å“åº”ç»“æœ è¿”å›é›†åˆã€‚æ·»åŠ åˆç†çš„ç¼“å­˜è¿‡æœŸå¤´ã€‚ å¦‚æœæ²¡æœ‰ç»“æœï¼Œåº”è¯¥è¿”å›ç©ºé›†åˆã€‚'><meta itemprop=name content="RESTful Web Service Cookbook ç¬”è®°"><meta itemprop=description content='RESTful Web Service Cookbook æ˜¯ä¸€æœ¬ç®€çŸ­ã€ç²¾ç‚¼çš„ RESTful æ¥å£è®¾è®¡æŒ‡å—ã€‚è¿™ç¯‡æ–‡ç« ï¼ˆç¬”è®°ï¼‰ç”¨æ¥è®°å½•è¿™æœ¬ä¹¦ä¸­æåˆ°çš„é‡ç‚¹ã€‚
å› ä¸º RESTful å¯¹åç«¯å¼€å‘æ¥è¯´å®åœ¨å¤ªç†Ÿæ‚‰ä¸è¿‡ï¼Œæ‰€ä»¥æˆ‘ä¼šçœç•¥æ‰é‚£äº›ä¹ ä»¥ä¸ºå¸¸çš„çº¦å®šï¼Œåªè®°å½•ä¹¦ä¸­æåˆ°çš„ã€å¤§å¤šæ•°å¼€å‘è€…æ²¡æœ‰æ³¨æ„åˆ°çš„ç»†èŠ‚ã€‚
HTTP Method GET è¿›è¡Œå®‰å…¨ä¸å¹‚ç­‰çš„ä¿¡æ¯è·å–ã€‚
POST æ‰§è¡Œçš„ç›®æ ‡æ˜¯ä¸€ä¸ªèµ„æºé›†åˆï¼ˆå·¥å‚ï¼‰ï¼Œè€Œä¸æ˜¯å…·ä½“çš„ URIã€‚
é€‚ç”¨åœºæ™¯ï¼š
åˆ›å»ºæ–°çš„èµ„æº,æŠŠèµ„æºä½œä¸ºä¸€ä¸ªå·¥å‚ã€‚ é€šè¿‡ä¸€ä¸ªæ§åˆ¶å™¨èµ„æºæ¥ä¿®æ”¹ä¸€ä¸ªæˆ–å¤šä¸ªèµ„æºã€‚ æ‰§è¡Œéœ€è¦å¤§æ•°æ®è¾“å…¥ï¼ˆå‚æ•°è¾ƒå¤šï¼‰çš„æŸ¥è¯¢ã€‚ åœ¨å…¶ä»– HTTP æ–¹æ³•çœ‹ä¸Šå»ä¸åˆé€‚æ—¶ï¼Œæ‰§è¡Œä¸å®‰å…¨æˆ–éå¹‚ç­‰çš„æ“ä½œã€‚ è§£å†³æ–¹æ¡ˆï¼š
å°†ä¸€ä¸ªå·²å­˜åœ¨çš„èµ„æºæ ‡è¯†ä¸ºåˆ›å»ºæ–°èµ„æºçš„å·¥å‚ã€‚è™½ç„¶æ‚¨å¯ä»¥æŠŠä»»æ„èµ„æºç”¨åšå·¥å‚,ä½†å¸¸è§çš„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªé›†åˆèµ„æºã€‚ è®©å®¢æˆ·ç«¯å‘å·¥å‚èµ„æºæäº¤é™„æœ‰éœ€è¦åˆ›å»ºèµ„æºçš„è¡¨è¿°çš„ POST è¯·æ±‚ã€‚é€šè¿‡å¯é€‰æ”¯æŒçš„ Slug å¤´, å®¢æˆ·ç«¯å¯ä»¥å‘æœåŠ¡å™¨å»ºè®®ä¸€ä¸ªåå­—,ä½œä¸ºè¢«åˆ›å»ºèµ„æºçš„ URI çš„ä¸€éƒ¨åˆ†ã€‚ èµ„æºåˆ›å»ºä¹‹å,è¿”å›å“åº”ç  201(Created),å¹¶åœ¨ Location å¤´ä¸­åŒ…å«æ–°åˆ›å»ºèµ„æºçš„ URIã€‚ å¦‚æœå“åº”æ­£æ–‡åŒ…å«äº†æ–°åˆ›å»ºèµ„æºçš„å®Œæ•´è¡¨è¿°,é‚£ä¹ˆåœ¨ Content-Location å¤´ä¸­åŒ…å«æ–°åˆ›å»ºèµ„æºçš„ URIã€‚ PUT ä»…åœ¨å®¢æˆ·ç«¯å¯ä»¥æ§åˆ¶ URI çš„æ„æˆæ—¶,æ‰ä½¿ç”¨ PUT æ–¹æ³•åˆ›å»ºæ–°èµ„æºã€‚ï¼ˆæ¢å¥è¯è¯´ï¼ŒPUT ä¹Ÿå¯ä»¥åˆ›å»ºèµ„æºï¼Œä½†æ˜¯ä»…é™äºå®¢æˆ·ç«¯å¯ä»¥æŒ‡å®š URIï¼‰
ç¡®å®šèµ„æºå¯¹è±¡çš„ç²’åº¦ åº”è¯¥ä»¥é€‚åˆå®¢æˆ·ç«¯ä½¿ç”¨æ¨¡å¼çš„æ–¹å¼æ¥è®¾è®¡èµ„æº,è€Œä¸æ˜¯åŸºäºç°æœ‰çš„æ•°æ®åº“æˆ–å¯¹è±¡æ¨¡å‹ã€‚
å¯ç¼“å­˜æ€§ å‡å°ä¿®æ”¹é¢‘ç‡ å¯å˜æ€§â€”â€”åˆ†ç¦»å¯å˜å’Œä¸å¯å˜æ•°æ® å¦‚ä½•è®¾è®¡å¤åˆèµ„æº? å¤åˆèµ„æºé™ä½äº†ç»Ÿä¸€æ¥å£çš„å¯è§æ€§,å› ä¸ºå®ƒä»¬çš„è¡¨è¿°ä¸­åŒ…å«äº†å’Œå…¶ä»–èµ„æºç›¸é‡å çš„æ•°æ®ã€‚
å¦‚æœç¬¦åˆèµ„æºä½¿ç”¨é¢‘ç‡ä¸é«˜ï¼Œå¯ä»¥è€ƒè™‘ç”¨ç¼“å­˜æ›¿ä»£ã€‚ è€ƒè™‘ç½‘ç»œå¼€é”€ï¼Œå¤åˆèµ„æºä¼šä¸ä¼šé™ä½æœåŠ¡ç«¯ååé‡ï¼Œå¢å¤§å»¶æ—¶ã€‚ HTTP Body ä»¥ JSON æ ¼å¼çš„ Body ä¸ºä¾‹ï¼š
æœ€å¥½åŒ…å«ä¸€ä¸ªæŒ‡å‘ self çš„é“¾æ¥ å¦‚æœåˆ†é¡µï¼Œæœ€å¥½åŒ…å«ä¸‹ä¸€é¡µçš„é“¾æ¥ å¦‚æœåˆ†é¡µï¼Œè¦æŒ‡ç¤ºé›†åˆçš„å¤§å°ï¼ˆæ€»æ•°ï¼‰ å¦‚æœæŸ¥è¯¢å¯¹è±¡æ˜¯æœ¬åœ°åŒ–çš„ï¼Œæ·»åŠ ä¸€ä¸ªå±æ€§æ¥è¡¨ç¤ºæœ¬åœ°åŒ–å†…å®¹çš„è¯­è¨€ { "name": "John", "id": "urn:example:user:1234", "link": { "rel": "self", "href": "http://www.example.org/person/john" }, "address": { "id": "urn:example:address:4567", "link": { "rel": "self", "href": "http://www.example.org/person/john/address" } } } HTTP Response å¯¹äºå®¢æˆ·ç«¯é”™è¯¯ï¼Œè¿”å› 4xx çŠ¶æ€ç  + Date ï¼ˆé”™è¯¯å‘ç”Ÿçš„æ—¶é—´ï¼‰ã€‚ å¯¹äºæœåŠ¡ç«¯é”™è¯¯ï¼Œè¿”å› 5xx çŠ¶æ€ç  + Date ï¼ˆé”™è¯¯å‘ç”Ÿçš„æ—¶é—´ï¼‰ã€‚ Body ä¸­è¦æè¿°é”™è¯¯ï¼Œå¦‚æœæœ‰å¤–éƒ¨æ–‡æ¡£å’Œé“¾æ¥å¯å‚è€ƒï¼Œåœ¨ Header æä¾›ä¸€ä¸ª Link å¤´æˆ–ç›´æ¥æŠŠé“¾æ¥å†™åœ¨ Body é‡Œã€‚ ä¸ºäº†åæœŸè¿½è¸ªæˆ–åˆ†æï¼Œåœ¨æœåŠ¡å™¨ä¸Šè®°å½•äº†é”™è¯¯æ—¥å¿—ï¼Œåº”è¯¥æä¾›ä¸€ä¸ªå¯ä»¥æ‰¾åˆ°è¯¥é”™è¯¯çš„æ ‡è¯†ç¬¦æˆ–é“¾æ¥ã€‚ è®¾è®¡æŸ¥è¯¢ç»“æ„ è®¾è®¡æŸ¥è¯¢è¯·æ±‚ ä¸ºäº†ç¼“å­˜å’Œæ€§èƒ½ï¼Œå°½é‡é¿å…èŒƒå›´æŸ¥è¯¢ã€‚è§£å†³æ–¹æ³•åŒ…æ‹¬ï¼š ä½¿ç”¨é¢„å®šä¹‰æŸ¥è¯¢ ä¹Ÿå¯ä»¥ä½¿ç”¨ HTTP Headerï¼š Range é¿å…ä½¿ç”¨é€šç”¨è¯­è¨€ï¼ˆSQLã€XPATHï¼‰çš„æŸ¥è¯¢ã€‚ é¿å… URI å’Œæ•°æ®å­˜å‚¨æ–¹å¼çš„ç´§è€¦åˆï¼ˆå‰ç«¯æŠŠåç«¯å½“ä½œæ•°æ®åº“ï¼‰ã€‚ å¯¹äºå‚æ•°è¾ƒå¤šï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ POSTï¼ˆå› ä¸º URI é•¿åº¦æœ‰æœ€å¤§é™åˆ¶ï¼‰ POST æ¥å£çš„ç¼ºç‚¹æ˜¯ä¸§å¤±äº†ç¼“å­˜èƒ½åŠ› POST è¯·æ±‚æ˜¯ä¸å¯ç¼“å­˜çš„ï¼Œæ‰€ä»¥ Cache-Control å’Œ Expires å¤´æ— æµäºäº‹ è§£å†³ç¼“å­˜é—®é¢˜ï¼Œå¯ä»¥è®© POST åˆ›å»ºä¸€ä¸ªä¸´æ—¶èµ„æºï¼ŒæŠŠ link è¿”å›å‰ç«¯ï¼Œå‰ç«¯ä¸‹æ¬¡ç”¨ GET è·å–è¯¥èµ„æº è®¾è®¡æŸ¥è¯¢å“åº”ç»“æœ è¿”å›é›†åˆã€‚æ·»åŠ åˆç†çš„ç¼“å­˜è¿‡æœŸå¤´ã€‚ å¦‚æœæ²¡æœ‰ç»“æœï¼Œåº”è¯¥è¿”å›ç©ºé›†åˆã€‚'><meta itemprop=datePublished content="2024-07-13T16:12:34+08:00"><meta itemprop=dateModified content="2024-07-13T16:12:34+08:00"><meta itemprop=wordCount content="155"><meta itemprop=image content="https://sund.site/images/share.png"><meta itemprop=keywords content="Api"><meta name=referrer content="no-referrer-when-downgrade"><style>:root{--width-max:720px;--font-primary:Verdana, sans-serif;--font-secondary:monospace;--font-size-primary:1em;--font-size-secondary:0.8em;--body-bg-color:#fcfcfc;--bold-text-color:#222;--body-text-color:#444;--link-color:#3273dc;--link-visited-color:#8b6fcb;--table-border-color:#f2f2f2;--table-th-bg-color:#f2f2f2;--img-border-color:#f2f2f2;--code-bg-color:#f2f2f2;--code-text-color:#222;--blockquote-border-color:#666;--blockquote-text-color:#666;--upvoted-color:#FA8072}@media(prefers-color-scheme:dark){:root{--body-bg-color:#1c1c1c;--bold-text-color:#eee;--body-text-color:#ddd;--link-color:#8cc2dd;--link-visited-color:#c3b1ee;--table-border-color:#999;--table-th-bg-color:#999;--img-border-color:#999;--code-bg-color:#555;--code-text-color:#ddd;--blockquote-border-color:#ccc;--blockquote-text-color:#ccc}}body{font-family:var(--font-primary);font-size:var(--font-size-primary);margin:auto;padding:20px;max-width:var(--width-max);text-align:left;background-color:var(--body-bg-color);word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:var(--body-text-color)}h1,h2,h3,h4,h5,h6,strong,b{color:var(--bold-text-color)}h1,h2,h3,h4,h5,h6{margin:16px 0}a{color:var(--link-color);cursor:pointer;text-decoration:none}a:hover{text-decoration:underline}.title{text-decoration:none;border:0}.title:hover{text-decoration:none}.title span{font-weight:400}nav a{margin-right:8px}textarea{width:100%;font-size:16px}input{font-size:14px}content{line-height:1.6}table{width:100%;border-collapse:collapse;border:1px solid var(--table-border-color);border-radius:4px}th,td{border:1px solid var(--table-border-color);padding:4px}th{background-color:var(--table-th-bg-color)}hr{border:0;border-top:1px dashed}img{max-width:100%;display:block;margin-left:auto;margin-right:auto;border:1px solid var(--img-border-color);border-radius:4px;content-visibility:auto;loading:lazy}img[src*="#minipic"]{max-width:50%;margin-left:0;margin-right:auto}i{font-style:normal}time{font-family:var(--font-secondary);font-size:15px}code{font-family:var(--font-secondary);background-color:var(--code-bg-color);color:var(--code-text-color);padding:2px;border-radius:4px}pre code{display:block;padding:16px;white-space:pre-wrap;overflow-x:auto}div.highlight pre{border-radius:4px}div.highlight code{background-color:var(--code-bg-color);color:var(--code-text-color)}blockquote{border-left:2px solid var(--blockquote-border-color);color:var(--blockquote-text-color);margin:0;padding-left:16px;font-style:normal}blockquote p{margin:0}footer{padding:25px 0;text-align:center;font-size:var(--font-size-secondary)}ul li:has(input){list-style-type:none;margin-left:-25.5px}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li span.grouped{flex:0 0 80px}ul.blog-posts li a:visited{color:var(--link-visited-color)}div.toc{position:fixed;top:50%;left:calc((100vw + var(--width-max))/2);transform:translateY(-50%);width:calc((90vw - var(--width-max))/2);max-height:80vh;overflow-y:auto;padding:20px 8px;z-index:99;&::-webkit-scrollbar { display:none; } -ms-overflow-style:none;scrollbar-width:none}div.toc ul{list-style-type:none;padding-left:0}div.toc ul li{margin:8px 0}div.toc ul li a{text-decoration:none;color:var(--blockquote-text-color)}div.toc ul li a:hover{color:var(--link-color)}button.upvote-btn{margin:0;padding:0;border:none;background:0 0;cursor:pointer;display:flex;flex-direction:column;align-items:center;color:var(--body-text-color)}button.upvoted{color:var(--upvoted-color)}span.upvote-count{margin-top:-4px;font-size:smaller}@media(max-width:500px){img[src*="#minipic"]{max-width:100%;margin-left:auto;margin-right:auto}div.toc{display:none}}</style><style>body,div.post-body,h1,h2,h3,h4{font-family:microsoft yahei,pingfang sc,avenir,segoe ui,hiragino sans gb,STHeiti,microsoft sans serif,wenquanyi micro hei,sans-serif}</style><script async src="https://www.googletagmanager.com/gtag/js?id=G-XJJVVQ0LBH"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XJJVVQ0LBH")</script></head><body><header><a href=/ class=title><h1>Steve Sun</h1></a><nav><a href=/>Home</a>
<a href=/friends/>Friends</a>
<a href=/posts/>Posts</a></nav></header><main><h1>RESTful Web Service Cookbook ç¬”è®°</h1><p><i><time datetime=2024-07-13 pubdate>13 Jul, 2024</time></i></p><content><p><a href=https://www.oreilly.com/library/view/restful-web-services/9780596809140/>RESTful Web Service Cookbook</a> æ˜¯ä¸€æœ¬ç®€çŸ­ã€ç²¾ç‚¼çš„ RESTful æ¥å£è®¾è®¡æŒ‡å—ã€‚è¿™ç¯‡æ–‡ç« ï¼ˆç¬”è®°ï¼‰ç”¨æ¥è®°å½•è¿™æœ¬ä¹¦ä¸­æåˆ°çš„é‡ç‚¹ã€‚</p><blockquote><p>å› ä¸º RESTful å¯¹åç«¯å¼€å‘æ¥è¯´å®åœ¨å¤ªç†Ÿæ‚‰ä¸è¿‡ï¼Œæ‰€ä»¥æˆ‘ä¼šçœç•¥æ‰é‚£äº›ä¹ ä»¥ä¸ºå¸¸çš„çº¦å®šï¼Œåªè®°å½•ä¹¦ä¸­æåˆ°çš„ã€å¤§å¤šæ•°å¼€å‘è€…æ²¡æœ‰æ³¨æ„åˆ°çš„ç»†èŠ‚ã€‚</p></blockquote><h2 id=http-method>HTTP Method</h2><h3 id=get>GET</h3><p>è¿›è¡Œ<strong>å®‰å…¨</strong>ä¸<strong>å¹‚ç­‰</strong>çš„ä¿¡æ¯è·å–ã€‚</p><h3 id=post>POST</h3><p>æ‰§è¡Œçš„ç›®æ ‡æ˜¯ä¸€ä¸ªèµ„æºé›†åˆï¼ˆå·¥å‚ï¼‰ï¼Œè€Œä¸æ˜¯å…·ä½“çš„ URIã€‚</p><p>é€‚ç”¨åœºæ™¯ï¼š</p><ul><li>åˆ›å»ºæ–°çš„èµ„æº,æŠŠèµ„æºä½œä¸ºä¸€ä¸ªå·¥å‚ã€‚</li><li>é€šè¿‡ä¸€ä¸ªæ§åˆ¶å™¨èµ„æºæ¥ä¿®æ”¹ä¸€ä¸ªæˆ–å¤šä¸ªèµ„æºã€‚</li><li>æ‰§è¡Œéœ€è¦å¤§æ•°æ®è¾“å…¥ï¼ˆå‚æ•°è¾ƒå¤šï¼‰çš„æŸ¥è¯¢ã€‚</li><li><strong>åœ¨å…¶ä»– HTTP æ–¹æ³•çœ‹ä¸Šå»ä¸åˆé€‚æ—¶ï¼Œæ‰§è¡Œä¸å®‰å…¨æˆ–éå¹‚ç­‰çš„æ“ä½œ</strong>ã€‚</li></ul><p>è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>å°†ä¸€ä¸ªå·²å­˜åœ¨çš„èµ„æºæ ‡è¯†ä¸ºåˆ›å»ºæ–°èµ„æºçš„å·¥å‚ã€‚è™½ç„¶æ‚¨å¯ä»¥æŠŠä»»æ„èµ„æºç”¨åšå·¥å‚,ä½†å¸¸è§çš„åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªé›†åˆèµ„æºã€‚</li><li>è®©å®¢æˆ·ç«¯å‘å·¥å‚èµ„æºæäº¤é™„æœ‰éœ€è¦åˆ›å»ºèµ„æºçš„è¡¨è¿°çš„ POST è¯·æ±‚ã€‚é€šè¿‡å¯é€‰æ”¯æŒçš„ <strong>Slug</strong> å¤´, å®¢æˆ·ç«¯å¯ä»¥å‘æœåŠ¡å™¨å»ºè®®ä¸€ä¸ªåå­—,ä½œä¸ºè¢«åˆ›å»ºèµ„æºçš„ URI çš„ä¸€éƒ¨åˆ†ã€‚</li><li>èµ„æºåˆ›å»ºä¹‹å,è¿”å›å“åº”ç  <strong>201(Created)</strong>,å¹¶åœ¨ <strong>Location</strong> å¤´ä¸­åŒ…å«æ–°åˆ›å»ºèµ„æºçš„ URIã€‚</li><li>å¦‚æœå“åº”æ­£æ–‡åŒ…å«äº†æ–°åˆ›å»ºèµ„æºçš„å®Œæ•´è¡¨è¿°,é‚£ä¹ˆåœ¨ <strong>Content-Location</strong> å¤´ä¸­åŒ…å«æ–°åˆ›å»ºèµ„æºçš„ URIã€‚</li></ul><h3 id=put>PUT</h3><p>ä»…åœ¨å®¢æˆ·ç«¯å¯ä»¥æ§åˆ¶ URI çš„æ„æˆæ—¶,æ‰ä½¿ç”¨ PUT æ–¹æ³•åˆ›å»ºæ–°èµ„æºã€‚<strong>ï¼ˆæ¢å¥è¯è¯´ï¼ŒPUT ä¹Ÿå¯ä»¥åˆ›å»ºèµ„æºï¼Œä½†æ˜¯ä»…é™äºå®¢æˆ·ç«¯å¯ä»¥æŒ‡å®š URIï¼‰</strong></p><h2 id=ç¡®å®šèµ„æºå¯¹è±¡çš„ç²’åº¦>ç¡®å®šèµ„æºå¯¹è±¡çš„ç²’åº¦</h2><p>åº”è¯¥ä»¥é€‚åˆå®¢æˆ·ç«¯ä½¿ç”¨æ¨¡å¼çš„æ–¹å¼æ¥è®¾è®¡èµ„æº,è€Œä¸æ˜¯åŸºäºç°æœ‰çš„æ•°æ®åº“æˆ–å¯¹è±¡æ¨¡å‹ã€‚</p><ul><li>å¯ç¼“å­˜æ€§</li><li>å‡å°ä¿®æ”¹é¢‘ç‡</li><li>å¯å˜æ€§â€”â€”åˆ†ç¦»å¯å˜å’Œä¸å¯å˜æ•°æ®</li></ul><h3 id=å¦‚ä½•è®¾è®¡å¤åˆèµ„æº>å¦‚ä½•è®¾è®¡å¤åˆèµ„æº?</h3><p><strong>å¤åˆèµ„æº</strong>é™ä½äº†ç»Ÿä¸€æ¥å£çš„å¯è§æ€§,å› ä¸ºå®ƒä»¬çš„è¡¨è¿°ä¸­åŒ…å«äº†å’Œå…¶ä»–èµ„æºç›¸é‡å çš„æ•°æ®ã€‚</p><ul><li>å¦‚æœç¬¦åˆèµ„æºä½¿ç”¨<strong>é¢‘ç‡ä¸é«˜</strong>ï¼Œå¯ä»¥è€ƒè™‘ç”¨<strong>ç¼“å­˜</strong>æ›¿ä»£ã€‚</li><li>è€ƒè™‘ç½‘ç»œå¼€é”€ï¼Œå¤åˆèµ„æºä¼šä¸ä¼šé™ä½æœåŠ¡ç«¯ååé‡ï¼Œå¢å¤§å»¶æ—¶ã€‚</li></ul><h2 id=http-body>HTTP Body</h2><p>ä»¥ JSON æ ¼å¼çš„ Body ä¸ºä¾‹ï¼š</p><ol><li>æœ€å¥½åŒ…å«ä¸€ä¸ªæŒ‡å‘ self çš„é“¾æ¥</li><li>å¦‚æœåˆ†é¡µï¼Œæœ€å¥½åŒ…å«ä¸‹ä¸€é¡µçš„é“¾æ¥</li><li>å¦‚æœåˆ†é¡µï¼Œè¦æŒ‡ç¤ºé›†åˆçš„å¤§å°ï¼ˆæ€»æ•°ï¼‰</li><li>å¦‚æœæŸ¥è¯¢å¯¹è±¡æ˜¯æœ¬åœ°åŒ–çš„ï¼Œæ·»åŠ ä¸€ä¸ªå±æ€§æ¥è¡¨ç¤ºæœ¬åœ°åŒ–å†…å®¹çš„è¯­è¨€</li></ol><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  &#34;name&#34;: <span style=color:#fc6a5d>&#34;John&#34;</span>,
</span></span><span style=display:flex><span>  &#34;id&#34;: <span style=color:#fc6a5d>&#34;urn:example:user:1234&#34;</span>,
</span></span><span style=display:flex><span>  &#34;link&#34;: {
</span></span><span style=display:flex><span>    &#34;rel&#34;: <span style=color:#fc6a5d>&#34;self&#34;</span>,
</span></span><span style=display:flex><span>    &#34;href&#34;: <span style=color:#fc6a5d>&#34;http://www.example.org/person/john&#34;</span>
</span></span><span style=display:flex><span>  },
</span></span><span style=display:flex><span>  &#34;address&#34;: {
</span></span><span style=display:flex><span>    &#34;id&#34;: <span style=color:#fc6a5d>&#34;urn:example:address:4567&#34;</span>,
</span></span><span style=display:flex><span>    &#34;link&#34;: {
</span></span><span style=display:flex><span>      &#34;rel&#34;: <span style=color:#fc6a5d>&#34;self&#34;</span>,
</span></span><span style=display:flex><span>      &#34;href&#34;: <span style=color:#fc6a5d>&#34;http://www.example.org/person/john/address&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=http-response>HTTP Response</h2><ol><li>å¯¹äºå®¢æˆ·ç«¯é”™è¯¯ï¼Œè¿”å› 4xx çŠ¶æ€ç  + Date ï¼ˆé”™è¯¯å‘ç”Ÿçš„æ—¶é—´ï¼‰ã€‚</li><li>å¯¹äºæœåŠ¡ç«¯é”™è¯¯ï¼Œè¿”å› 5xx çŠ¶æ€ç  + Date ï¼ˆé”™è¯¯å‘ç”Ÿçš„æ—¶é—´ï¼‰ã€‚</li><li>Body ä¸­è¦æè¿°é”™è¯¯ï¼Œå¦‚æœæœ‰å¤–éƒ¨æ–‡æ¡£å’Œé“¾æ¥å¯å‚è€ƒï¼Œåœ¨ Header æä¾›ä¸€ä¸ª Link å¤´æˆ–ç›´æ¥æŠŠé“¾æ¥å†™åœ¨ Body é‡Œã€‚</li><li>ä¸ºäº†åæœŸè¿½è¸ªæˆ–åˆ†æï¼Œåœ¨æœåŠ¡å™¨ä¸Šè®°å½•äº†é”™è¯¯æ—¥å¿—ï¼Œåº”è¯¥æä¾›ä¸€ä¸ªå¯ä»¥æ‰¾åˆ°è¯¥é”™è¯¯çš„æ ‡è¯†ç¬¦æˆ–é“¾æ¥ã€‚</li></ol><h2 id=è®¾è®¡æŸ¥è¯¢ç»“æ„>è®¾è®¡æŸ¥è¯¢ç»“æ„</h2><h3 id=è®¾è®¡æŸ¥è¯¢è¯·æ±‚>è®¾è®¡æŸ¥è¯¢è¯·æ±‚</h3><ol><li>ä¸ºäº†ç¼“å­˜å’Œæ€§èƒ½ï¼Œå°½é‡é¿å…èŒƒå›´æŸ¥è¯¢ã€‚è§£å†³æ–¹æ³•åŒ…æ‹¬ï¼š<ul><li>ä½¿ç”¨é¢„å®šä¹‰æŸ¥è¯¢</li><li>ä¹Ÿå¯ä»¥ä½¿ç”¨ HTTP Headerï¼š Range</li></ul></li><li>é¿å…ä½¿ç”¨é€šç”¨è¯­è¨€ï¼ˆSQLã€XPATHï¼‰çš„æŸ¥è¯¢ã€‚</li><li>é¿å… URI å’Œæ•°æ®å­˜å‚¨æ–¹å¼çš„ç´§è€¦åˆï¼ˆå‰ç«¯æŠŠåç«¯å½“ä½œæ•°æ®åº“ï¼‰ã€‚</li><li>å¯¹äºå‚æ•°è¾ƒå¤šï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨ POSTï¼ˆå› ä¸º URI é•¿åº¦æœ‰æœ€å¤§é™åˆ¶ï¼‰<ul><li>POST æ¥å£çš„ç¼ºç‚¹æ˜¯ä¸§å¤±äº†ç¼“å­˜èƒ½åŠ›</li><li>POST è¯·æ±‚æ˜¯ä¸å¯ç¼“å­˜çš„ï¼Œæ‰€ä»¥ Cache-Control å’Œ Expires å¤´æ— æµäºäº‹</li><li>è§£å†³ç¼“å­˜é—®é¢˜ï¼Œå¯ä»¥è®© POST åˆ›å»ºä¸€ä¸ªä¸´æ—¶èµ„æºï¼ŒæŠŠ link è¿”å›å‰ç«¯ï¼Œå‰ç«¯ä¸‹æ¬¡ç”¨ GET è·å–è¯¥èµ„æº</li></ul></li></ol><h3 id=è®¾è®¡æŸ¥è¯¢å“åº”ç»“æœ>è®¾è®¡æŸ¥è¯¢å“åº”ç»“æœ</h3><ol><li>è¿”å›é›†åˆã€‚æ·»åŠ åˆç†çš„ç¼“å­˜è¿‡æœŸå¤´ã€‚</li><li>å¦‚æœæ²¡æœ‰ç»“æœï¼Œåº”è¯¥è¿”å›<strong>ç©ºé›†åˆ</strong>ã€‚</li></ol></content><p><a href=https://sund.site/tags/api/>#Api</a></p><div class=toc><nav id=TableOfContents><ul><li><a href=#http-method>HTTP Method</a><ul><li><a href=#get>GET</a></li><li><a href=#post>POST</a></li><li><a href=#put>PUT</a></li></ul></li><li><a href=#ç¡®å®šèµ„æºå¯¹è±¡çš„ç²’åº¦>ç¡®å®šèµ„æºå¯¹è±¡çš„ç²’åº¦</a><ul><li><a href=#å¦‚ä½•è®¾è®¡å¤åˆèµ„æº>å¦‚ä½•è®¾è®¡å¤åˆèµ„æº?</a></li></ul></li><li><a href=#http-body>HTTP Body</a></li><li><a href=#http-response>HTTP Response</a></li><li><a href=#è®¾è®¡æŸ¥è¯¢ç»“æ„>è®¾è®¡æŸ¥è¯¢ç»“æ„</a><ul><li><a href=#è®¾è®¡æŸ¥è¯¢è¯·æ±‚>è®¾è®¡æŸ¥è¯¢è¯·æ±‚</a></li><li><a href=#è®¾è®¡æŸ¥è¯¢å“åº”ç»“æœ>è®¾è®¡æŸ¥è¯¢å“åº”ç»“æœ</a></li></ul></li></ul></nav></div></main><footer>Subscribe via <a href=/index.xml>RSS</a>.<br>Made with
<a href=https://github.com/rokcso/hugo-bearblog-neo/>Hugo Bear Neo</a>.<br>Copyright Â© 2013-2025, Steve Sun.
ğŸ—ºï¸ <a href=/sitemap.xml>Sitemap</a>.</footer></body></html>