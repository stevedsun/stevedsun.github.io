---
title: "如何构建大型软件团队"
date: 2023-09-19T09:10:06+08:00
categories: [随笔]
tags: []
aliases: [/posts/large-software-team-structure/]
description: ""
---

对于大型软件研发团队，一个最困扰的问题就是项目维护到后期越来越难以修改、增加功能。

> 因为一些意想不到的交互会产生许多不易察觉的 bug，测试工作将非常耗时，因此相同的功能的系统组件，成本至少是独立程序的三倍。 —— 《人月神话》

一个系统，是否容易维护，取决于：

- 技术架构设计的耦合程度
- 交互设计的复杂性
- 软件团队内部的沟通成本

## 外科手术式团队

《人月神话》作者提出，当一个软件系统足够庞大，就需要更多人力的投入，但是人力投入导致内部沟通成本和设计的复杂性急剧上升。因此作者建议软件团队不应将不同模块拆分给不同团队和个人负责，而是由一个少数核心成员和辅助成员构成的“外科手术式“的团队构成。

![外科手术团队](/images/large-software-team-structure/外科手术团队.png)

虽然这本书出版了将近 50 年，但是对软件开发领域来说，其核心思想几乎没有过时。敏捷开发团队的人员也几乎是按照图中的人员构成来设计的。（我用不同颜色对应标记了不同角色在敏捷开发团队中的角色，其中部分角色已经被自动化工具取代）

> 系统概念的完整性决定了使用的容易程度。不能与系统基本概念进行整合的想法和特性，最好放在一边，不予考虑。如果出现很多重要但是不兼容的构想，就应该抛弃原来的设计，对不同的概念进行合并，在合并后的系统上重新开始。

然而不幸的是，大部分软件团队，并不重视”系统的完整性“，将任务拆分（无所谓粒度粗细，而是垂直拆分而不是水平拆分），造成系统各部分的不一致。

另一方面，追求团队内部的所谓”民主“，片面的团结，而忽视软件开发是”师徒模式“的事实，造成分歧争论不下，无法快速收敛问题；以及将系统设计能力平庸，但是老黄牛式的、掌握了信息差的”老人“提拔成主力开发。诸如此类的问题造成软件团队平庸化。

## 如何减少团队的信息差

最近听人说：”敏捷不是目的，敏捷是一种手段“。这是完全错误的，敏捷是一个团队的文化，**敏捷是目的，不是手段**，为了让团队达到敏捷的心流状态（专注问题；快速收敛分歧；最少交流成本）。

个人观点，减少团队分歧、降低成员之间认知差距的根本方向，是”消灭知识的私有制“：

1. 用集体 code review 消灭技术知识私有制
2. 通过估点、拆分 story 和 AC，避免团队出现 key person 掌握过多的业务上下文，消灭业务知识私有制
3. CI/CD 和自动化测试，消灭运维知识私有制
4. 通过迭代计划、retrospective 等流程消灭管理知识私有制

## 参考资料

- https://1-riverfish.github.io/2018/05/28/%E5%A4%96%E7%A7%91%E6%89%8B%E6%9C%AF%E9%98%9F%E4%BC%8D/
- https://twitter.com/way2steve/status/1697296025550205067
