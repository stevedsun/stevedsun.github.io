<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Linux on Steve Sun</title><link>https://sund.site/tags/linux/</link><description>Recent content in Linux on Steve Sun</description><generator>Hugo</generator><language>zh-CN</language><copyright>Copyright Â© 2013-2025, Steve Sun.</copyright><lastBuildDate>Wed, 22 Oct 2025 23:21:21 +0800</lastBuildDate><follow_challenge><feedId>41397727810093074</feedId><userId>56666701051455488</userId></follow_challenge><atom:link href="https://sund.site/tags/linux/index.xml" rel="self" type="application/rss+xml"/><item><title>Omarchy ä¸€äº›ä¸­æ–‡ç¯å¢ƒä¸‹çš„è®¾ç½®</title><link>https://sund.site/posts/2025/omarchy-cn-setup/</link><pubDate>Wed, 22 Oct 2025 23:21:21 +0800</pubDate><guid>https://sund.site/posts/2025/omarchy-cn-setup/</guid><description>&lt;p&gt;æœ€è¿‘æŠŠå®¶é‡Œç”µè„‘è£…ä¸Šäº† DHH çš„ &lt;a href="https://omarchy.org/"&gt;Omarchy&lt;/a&gt;ï¼ˆä¸€ä¸ªåŸºäº Hyprland æ¡Œé¢ç¯å¢ƒçš„ Arch Linux å‘è¡Œç‰ˆï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;è£…å®Œåæœ‰ä¸€äº›éœ€è¦æ”¹é€ çš„é…ç½®è®°å½•åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚&lt;/p&gt;
&lt;h2 id="4k-æ˜¾ç¤ºå™¨è®¾ç½®"&gt;4K æ˜¾ç¤ºå™¨è®¾ç½®&lt;/h2&gt;
&lt;p&gt;ä¿®æ”¹ç³»ç»Ÿèœå• Setup - Monitorï¼ŒæŒ‰ç…§ä½ è‡ªå·±æ˜¾ç¤ºå™¨çš„åˆ†è¾¨ç‡ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶ä¸­çš„æ³¨é‡Šè®¾ç½®å‚æ•°ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¾ç¤ºå™¨ 27 å¯¸ 4kï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-conf" data-lang="conf"&gt;env = GDK_SCALE,1.75
monitor=,preferred,auto,1.875
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;é¢å¤–ä¸º QT è½¯ä»¶æ·»åŠ ç¼©æ”¾è®¾ç½®&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-conf" data-lang="conf"&gt;env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_SCALE_FACTOR,1.75
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="ä¸­æ–‡è¾“å…¥æ³•"&gt;ä¸­æ–‡è¾“å…¥æ³•&lt;/h2&gt;
&lt;p&gt;å‚è€ƒ &lt;a href="https://manateelazycat.github.io/2024/12/17/fcitx-best-config/"&gt;Fcitx æœ€ä½³é…ç½®å®è·µ&lt;/a&gt;ã€‚æ–‡ç« ä¸­â€œå®‰è£… emacs-rimeâ€è¿™ä¸€ç« èŠ‚å¦‚æœä¸ä½¿ç”¨ emacs å¯ä»¥å¿½ç•¥ã€‚&lt;/p&gt;
&lt;h2 id="ç»ˆç«¯å­—ä½“ä¿®æ”¹è®¾ç½®"&gt;ç»ˆç«¯å­—ä½“ä¿®æ”¹è®¾ç½®&lt;/h2&gt;
&lt;p&gt;ç³»ç»Ÿè‡ªå¸¦å­—ä½“åœ¨ç»ˆç«¯ç¯å¢ƒä¸‹å¯¹ä¸­æ–‡éƒ½ä¸å¤ªå‹å¥½ã€‚æˆ‘å–œæ¬¢ç”¨&lt;code&gt;Maple Mono&lt;/code&gt;è¿™ä¸ªå­—ä½“ï¼Œå¯ä»¥å®‰è£… AUR åŒ…&lt;code&gt;maple-mono-nf-cn&lt;/code&gt;è¿™ä¸ªåº“ã€‚ç„¶ååœ¨&lt;code&gt;~/.config/alacritty/alacritty.toml&lt;/code&gt;ä¸­ä¿®æ”¹å­—ä½“è®¾ç½®ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[font]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;normal = { family = &lt;span style="color:#fc6a5d"&gt;&amp;#34;Maple Mono NF CN&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;bold = { family = &lt;span style="color:#fc6a5d"&gt;&amp;#34;Maple Mono NF CN&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;italic = { family = &lt;span style="color:#fc6a5d"&gt;&amp;#34;Maple Mono NF CN&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;size = &lt;span style="color:#d0bf69"&gt;12&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="é”®ç›˜é»˜è®¤çš„-numlock-å…³é—­"&gt;é”®ç›˜é»˜è®¤çš„ numlock å…³é—­&lt;/h2&gt;
&lt;p&gt;Omarchy å®‰è£…åä¼šé»˜è®¤å¼€å¯å°é”®ç›˜çš„ numlockï¼Œå¯ä»¥åœ¨ç³»ç»Ÿèœå• Setup - Input ä¸­è®¾ç½®ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-conf" data-lang="conf"&gt;numlock_by_default = false
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="neovim-çš„ä¸€äº›è®¾ç½®"&gt;Neovim çš„ä¸€äº›è®¾ç½®&lt;/h2&gt;
&lt;p&gt;Neovim é»˜è®¤ä½¿ç”¨äº† Lazyvimï¼Œæˆ‘åœ¨&lt;code&gt;~/.config/nvim/lua/config/options.lua&lt;/code&gt;é‡Œæ·»åŠ äº†ä¸€äº›é…ç½®ï¼Œå¯ä»¥å‚è€ƒæ³¨é‡Šé€‰æ‹©æ€§æ·»åŠ ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-lua" data-lang="lua"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#6c7986"&gt;-- ä¿®å¤ä¸­æ–‡å­—ä½“åœ¨ç»ˆç«¯é‡Œæœ‰ä¸‹åˆ’çº¿çš„é—®é¢˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;vim.opt.spelllang = { &lt;span style="color:#fc6a5d"&gt;&amp;#34;en&amp;#34;&lt;/span&gt;, &lt;span style="color:#fc6a5d"&gt;&amp;#34;cjk&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#6c7986"&gt;-- åœ¨ markdown æ–‡ä»¶ä¸­å…³é—­è¯­æ³•æ£€æŸ¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;vim.api.nvim_create_autocmd(&lt;span style="color:#fc6a5d"&gt;&amp;#34;FileType&amp;#34;&lt;/span&gt;, {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; pattern = &lt;span style="color:#fc6a5d"&gt;&amp;#34;markdown&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; callback = &lt;span style="color:#fc5fa3"&gt;function&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.diagnostic.enable(&lt;span style="color:#fc5fa3"&gt;false&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#fc5fa3"&gt;end&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;})
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶ååˆ›å»º&lt;code&gt;~/.config/nvim/lua/plugins/flush.lua&lt;/code&gt;å¹¶æ·»åŠ å†…å®¹ï¼Œæ¢å¤ Vim é»˜è®¤çš„ normal æ¨¡å¼ä¸‹ s é”®çš„åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-lua" data-lang="lua"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#fc5fa3"&gt;return&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#fc6a5d"&gt;&amp;#34;folke/flash.nvim&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; keys = {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; { &lt;span style="color:#fc6a5d"&gt;&amp;#34;s&amp;#34;&lt;/span&gt;, mode = { &lt;span style="color:#fc6a5d"&gt;&amp;#34;n&amp;#34;&lt;/span&gt;, &lt;span style="color:#fc6a5d"&gt;&amp;#34;x&amp;#34;&lt;/span&gt;, &lt;span style="color:#fc6a5d"&gt;&amp;#34;o&amp;#34;&lt;/span&gt; }, &lt;span style="color:#fc5fa3"&gt;false&lt;/span&gt; },
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; },
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; },
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description></item><item><title>é‡åˆ° Linux ç³»ç»Ÿ Kernel Panic äº†è¯¥å¦‚ä½•åº”å¯¹</title><link>https://sund.site/posts/2025/retro-kernel-panic/</link><pubDate>Sat, 19 Jul 2025 01:06:32 +0800</pubDate><guid>https://sund.site/posts/2025/retro-kernel-panic/</guid><description>&lt;p&gt;æ™šä¸Šæ‰“å¼€å®¶é‡Œçš„é›¶åˆ» Ser6 ä¸»æœºï¼Œèµ«ç„¶å‘ç° Kernel Panic äº† ğŸ˜±ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src="https://fastly.jsdelivr.net/gh/stevedsun/blog-img/kernel-panic-screenshot.png" alt=""&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å€™å¾ˆå¤šäººå°±æ…Œäº†ï¼Œå…¶å®å®Œå…¨ä¸å¿…æ…Œã€‚åªéœ€è¦ç”¨ä¸€ä¸ª LiveUSB å¯åŠ¨ç›˜ä¿®å¤ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡æˆ‘è¿™ä¸ª Ubuntu å®‰è£…äº†ä¸€å¹´å¤šï¼Œä¸€ç›´å¾ˆç¨³å®šï¼Œå®¶é‡Œä¹Ÿæ²¡é¢„å¤‡ LiveUSBï¼Œæ— å¥ˆåªèƒ½æå‡ºåƒç°å¥½å‡ å¹´çš„æ—§ç”µè„‘ï¼Œå¼€æœºå¯†ç çŒœäº†åŠä¸ªå¤šå°æ—¶æ‰è¿›å…¥ç³»ç»Ÿâ€¦â€¦ä¸‹è½½ Ubuntu ISO æ–‡ä»¶ï¼Œåˆ¶ä½œ LiveUSBã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä» LiveUSB å¯åŠ¨åè¿›å…¥ Try Ubuntuï¼Œç”¨ Terminal æ’é”™çš„è¿‡ç¨‹ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚&lt;/p&gt;
&lt;h2 id="1-æ‰¾åˆ°æ ¹åˆ†åŒºå’Œ-efi-åˆ†åŒº"&gt;1. æ‰¾åˆ°æ ¹åˆ†åŒºå’Œ EFI åˆ†åŒº&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;lsblk -f
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¼šè¿”å›ç±»ä¼¼å¦‚ä¸‹ç»“æœï¼Œå…¶ä¸­&lt;code&gt;vfat&lt;/code&gt;æ ¼å¼æ˜¯efiåˆ†åŒºï¼Œ&lt;code&gt;ext4&lt;/code&gt;æ˜¯ç³»ç»Ÿæ ¹åˆ†åŒºã€‚&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;NAME FSTYPE LABEL UUID MOUNTPOINT
nvme0n1 
â”œâ”€nvme0n1p1 vfat 1234-5678 /boot/efi
â””â”€nvme0n1p2 ext4 955b06a9-983d-4e04-b2ef-60b559db46e6 
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="2-ç”¨fsckä¿®å¤åˆ†åŒºé”™è¯¯"&gt;2. ç”¨&lt;code&gt;fsck&lt;/code&gt;ä¿®å¤åˆ†åŒºé”™è¯¯&lt;/h2&gt;
&lt;p&gt;æ³¨æ„è¿™ä¸€æ­¥åŠä¹‹åçš„æ­¥éª¤ï¼Œåˆ†åŒºçš„è·¯å¾„è¦ç”¨ä¸Šä¸€æ­¥ä½ çš„ç³»ç»Ÿä¸­çš„åˆ†åŒºè·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆä¿®å¤æ ¹åˆ†åŒºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo fsck -f /dev/nvme0n1p2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‡ºç°æç¤ºè¾“å…¥&lt;code&gt;y&lt;/code&gt;å…è®¸ï¼Œæˆ–è€…&lt;code&gt;a&lt;/code&gt;å…¨éƒ¨å…è®¸ã€‚è¿™ä¸€æ­¥æˆ‘å‘ç°äº†ä¸€äº›é”™è¯¯å¹¶æˆåŠŸä¿®å¤äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥æ£€æŸ¥ä¿®å¤efiåˆ†åŒºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo fsck -f /dev/nvme0n1p1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘åœ¨è¿™ä¸€æ­¥å‡ºç°æç¤ºï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;there are different between boot sector and it&amp;#39;s backupï¼š
1) Copy original to backup
2) Copy backup to original
3) No action
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ ¹æ®ç½‘ä¸Šæœç´¢åˆ°çš„ç»“æœï¼Œå¦‚æœç³»ç»Ÿèƒ½æ­£å¸¸è¿›å…¥grubï¼Œè¯´æ˜æˆ‘åŸå§‹æ‰‡åŒºæ˜¯å¥½çš„ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹© &lt;code&gt;1) Copy original to backup&lt;/code&gt; å¤åˆ¶åŸå§‹å¼•å¯¼æ‰‡åŒºåˆ°å¤‡ä»½æ‰‡åŒºã€‚&lt;/p&gt;
&lt;h2 id="3-æŒ‚è½½åŸç³»ç»Ÿå¹¶é‡å»º-initramfs"&gt;3. æŒ‚è½½åŸç³»ç»Ÿå¹¶é‡å»º initramfs&lt;/h2&gt;
&lt;p&gt;ä¸‹é¢è¿™ä¸€æ­¥ï¼Œè¦æŠŠåŸç³»ç»Ÿæ ¹åˆ†åŒºæŒ‚è½½åˆ°å½“å‰ LiveUSB ç³»ç»Ÿé‡Œï¼ŒåŒæ—¶ä¸ºäº†æ‰§è¡Œå¿…è¦çš„å‘½ä»¤ï¼Œè¦æŠŠ LiveUSB ç³»ç»Ÿçš„å››ä¸ªå…³é”®ç›®å½•æŒ‚åˆ°åŸç³»ç»Ÿã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mkdir -p /mnt/ubuntu
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mount /dev/nvme0n1p2 /mnt/ubuntu
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mount --bind /dev /mnt/ubuntu/dev
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mount --bind /proc /mnt/ubuntu/proc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mount --bind /sys /mnt/ubuntu/sys
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mount --bind /run /mnt/ubuntu/run
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo mount /dev/nvme0n1p1 /mnt/ubuntu/boot/efi
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸€é¡¿æ“ä½œåï¼Œå°±å¯ä»¥åˆ‡æ¢åˆ°åŸç³»ç»Ÿ root shell äº†ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo chroot /mnt/ubuntu
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæ˜¯å®‰è£… grub å¹¶é‡æ–°ä¸ºç³»ç»Ÿå†…æ ¸ç”Ÿæˆ initramfs å¯åŠ¨é•œåƒã€‚&lt;code&gt;grub-install&lt;/code&gt;å‘½ä»¤çš„å‚æ•°è¦æ ¹æ®è‡ªå·±çš„ç³»ç»Ÿè®¾ç½®ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=ubuntu
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;update-initramfs -c -k all
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;update-grub
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€åï¼Œé€€å‡ºåŸç³»ç»Ÿ root shellï¼Œé‡å¯ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#fff;background-color:#1f1f24;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#d0a8ff"&gt;exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‹”æ‰Uç›˜è¿›å…¥åŸç³»ç»Ÿï¼Œæˆ‘è¿™æ—¶å°±å¯ä»¥æ­£å¸¸ç™»å½•äº†ã€‚&lt;/p&gt;
&lt;h2 id="æ€»ç»“"&gt;æ€»ç»“&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä¸è¦æ…Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®¶ä¸­å¸¸å¤‡ Live USB&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨ &lt;code&gt;fsck&lt;/code&gt; å‘½ä»¤ä¿®å¤åˆ†åŒºé”™è¯¯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç”¨&lt;code&gt;mount&lt;/code&gt;æŒ‚è½½åŸç³»ç»Ÿå¿…è¦æ–‡ä»¶ï¼Œè¿›å…¥åŸç³»ç»Ÿå¹¶é‡å»º initramfs&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</description></item><item><title>macbookå®‰è£…ubuntu</title><link>https://sund.site/posts/2013/macbook_ubuntu/</link><pubDate>Fri, 04 Jan 2013 00:00:00 +0000</pubDate><guid>https://sund.site/posts/2013/macbook_ubuntu/</guid><description>&lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼Œubuntu å’Œ xubuntu å®‰è£…ä¸Šæœ‰ä¸€å®šå·®åˆ«ï¼Œè¯·ä¸¥æ ¼æŒ‰ç…§ä½ é€‰æ‹©çš„ç³»ç»Ÿç‰ˆæœ¬æµç¨‹å®‰è£…&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id="ubuntu"&gt;ubuntu&lt;/h3&gt;
&lt;h3 id="å‡†å¤‡å·¥ä½œ"&gt;å‡†å¤‡å·¥ä½œ&lt;/h3&gt;
&lt;h5 id="åˆ†åŒº"&gt;åˆ†åŒº&lt;/h5&gt;
&lt;p&gt;è¿™ä¸€æ­¥å¯ä»¥ç”¨å‘½ä»¤è¡Œå®ç°ï¼Œä¹Ÿå¯ä»¥åœ¨ mac ä¸‹ç›´æ¥ç”¨ç£ç›˜å·¥å…·åˆ†åŒºï¼Œåˆå­¦è€…å»ºè®®åè€…ã€‚æœ‰ç»éªŒçš„æœ‹å‹å¯ä»¥åœ¨ç½‘ä¸ŠæŸ¥è¯¢ diskutils çš„ç”¨æ³•ï¼Œè¿™æ˜¯ mac æä¾›çš„åˆ†åŒºå·¥å…·&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ç£ç›˜å·¥å…·ï¼Œæ‰“å¼€å·¦ä¾§æœ€ä¸Šè¾¹ç£ç›˜ä½ç½®ï¼ˆä¸æ˜¯ macosxï¼Œè€Œæ˜¯æ•´ä¸ªç¡¬ç›˜ï¼‰çš„é€‰é¡¹ï¼Œå³è¾¹ä¼šå‡ºç°&lt;code&gt;åˆ†åŒº&lt;/code&gt;æ ‡ç­¾ã€‚é€‰æ‹©åˆ†åŒºï¼Œä½ å¯ä»¥ç”¨é¼ æ ‡æ‹–åŠ¨è½»æ¾å°† macos çš„ä¸€éƒ¨åˆ†åˆ’åˆ†ç»™ ubuntu ä½¿ç”¨ã€‚åˆ†åŒºæ ¼å¼å¯ä»¥é€‰æ‹© mac æ—¥å¿—æ–‡ä»¶ã€‚å…¶å®é€‰ä»€ä¹ˆéƒ½ä¸€æ ·ï¼Œç­‰ä¼šè¿˜è¦é‡æ–°æ ¼å¼åŒ–ã€‚&lt;/p&gt;
&lt;h4 id="æŠŠ-iso-é•œåƒè½¬åŒ–ä¸ºè‹¹æœç”µè„‘è¯†åˆ«çš„-img-é•œåƒ"&gt;æŠŠ iso é•œåƒè½¬åŒ–ä¸ºè‹¹æœç”µè„‘è¯†åˆ«çš„ img é•œåƒ&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;hdiutil convert /path/to/ubuntu.iso -format UDRW -o /path/to/target.img
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å‘½ä»¤ä¸­&lt;code&gt;path/to/ubuntu.iso&lt;/code&gt;æ˜¯ä½ ä¸‹è½½çš„ iso è·¯å¾„ï¼Œ&lt;code&gt;path/to/target.img&lt;/code&gt;è‡ªç„¶æ˜¯ä½ è¦ä¿å­˜æˆ img çš„è·¯å¾„&lt;/p&gt;
&lt;h4 id="æ’å…¥-u-ç›˜åˆ»å½•é•œåƒ"&gt;æ’å…¥ U ç›˜ï¼Œåˆ»å½•é•œåƒ&lt;/h4&gt;
&lt;p&gt;å…ˆè¿è¡Œå¦‚ä¸‹å‘½ä»¤æŸ¥è¯¢ä½  U ç›˜çš„è®¾å¤‡å&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;diskutil list
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™é‡Œå‡è®¾ U ç›˜æ˜¯ disk1ï¼Œæ‰§è¡Œ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;diskutil unmountDisk /dev/disk1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æ¥ä¸‹æ¥æ‰§è¡Œå‘½ä»¤åˆ»å½•ï¼Œ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo dd if=/path/to/downloaded.img of=/dev/disk1 bs=1m
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ubuntu å®˜ç½‘é’ˆå¯¹ä¸Šä¸€æ¡å‘½ä»¤å¯èƒ½å‡ºç°çš„ä¸¤ç§é”™è¯¯æç¤ºç»™å‡ºäº†è§£å†³åŠæ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;If you see the error dd: Invalid number &amp;lsquo;1m&amp;rsquo;, you are using GNU dd. Use the same command but replace bs=1m with bs=1M.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you see the error dd: /dev/disk1: Resource busy, make sure the disk is not in use. Start the &amp;lsquo;Disk Utility.app&amp;rsquo; and unmount (don&amp;rsquo;t eject) the drive.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¥½äº†ï¼Œåˆ»å®Œå°±å¯ä»¥é‡å¯å®‰è£…äº†ã€‚é‡å¯åæŒ‰ä½&lt;code&gt;option&lt;/code&gt;ä¼šçœ‹åˆ°ä¸€ä¸ª refit å‘½åçš„ç§»åŠ¨è®¾å¤‡å›¾æ ‡ï¼Œç‚¹è¿›å»å°±å¼€å§‹å®‰è£…äº†ã€‚&lt;/p&gt;
&lt;h4 id="å®‰è£…è¿‡ç¨‹"&gt;å®‰è£…è¿‡ç¨‹&lt;/h4&gt;
&lt;p&gt;å®‰è£…è¿‡ç¨‹å¯ä»¥å‚è€ƒç½‘ä¸Šå…¶ä»–äººçš„å¸–å­ã€‚ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€‰æ‹©&lt;code&gt;ubuntuå’Œmac os xå…±å­˜&lt;/code&gt;ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¢«å®‰è£…åˆ°ç©ºé—²åˆ†åŒºã€‚&lt;/li&gt;
&lt;li&gt;é€‰æ‹©&lt;code&gt;å…¶ä»–é€‰é¡¹&lt;/code&gt;ï¼Œå¯ä»¥è‡ªå·±æ‰‹åŠ¨åˆ†åŒºï¼Œæˆ‘ä¸€èˆ¬æ˜¯é€‰è¿™ä¸ªæ¥æ‰‹åŠ¨åˆ†åŒºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å‡è®¾ä½ é€‰äº†&lt;code&gt;å…¶ä»–é€‰é¡¹&lt;/code&gt;å°±ä¼šè¿›å…¥åˆ†åŒºçš„çª—å£ï¼Œè¿™æ—¶ä½ å°±ä¼šçœ‹åˆ°æ‰€æœ‰ç£ç›˜åˆ†åŒºçš„æƒ…å†µï¼Œåˆšæ‰åœ¨ mac ä¸‹ç»™ ubuntu é¢„å…ˆåˆ†å¥½ä¸€å—ç©ºé—²åˆ†åŒºä¹Ÿåœ¨å…¶ä¸­ï¼Œåå­—å¯èƒ½å« disk02ï¼Œæˆ–è€… disk03 ä»€ä¹ˆçš„ã€‚
æ¥ä¸‹æ¥è¦è¿›è¡Œå››æ¬¡åˆ†åŒºã€‚è¿™ä¸€æ®µåˆ†åŒºæ–¹æ³•å‚è€ƒäº†ç™¾åº¦ç»éªŒä¸Šä¸€ä¸ªç½‘å‹çš„æ•™ç¨‹ï¼Œæˆ‘è¿›è¡Œäº† 2 å¤„ä¿®æ”¹ï¼ŒåŸå¸–åœ°å€&lt;a href="http://jingyan.baidu.com/article/60ccbceb18624464cab197ea.html"&gt;http://jingyan.baidu.com/article/60ccbceb18624464cab197ea.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡åˆ†åŒºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ç‚¹ä½ åˆšæ‰ç•™å‡ºæ¥çš„â€œç©ºé—²â€åˆ†åŒºï¼Œç‚¹â€œ+â€ï¼Œè¿›è¡Œå¦‚ä¸‹è®¾ç½®ï¼š
æŒ‚è½½ç‚¹ï¼šâ€œ/â€
å¤§å°ï¼š22000MB
æ–°åˆ†åŒºçš„ç±»å‹ï¼šä¸»åˆ†åŒº
æ–°åˆ†åŒºçš„ä½ç½®ï¼šç©ºé—´èµ·å§‹ä½ç½®
ç”¨äºï¼šEXT4æ—¥å¿—æ–‡ä»¶ç³»ç»Ÿ
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç¬¬äºŒæ¬¡åˆ†åŒºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;â€œç©ºé—²â€å¤„ï¼Œç»§ç»­ç‚¹â€œ+â€ï¼Œå¦‚ä¸‹è®¾ç½®ï¼Œ
æŒ‚è½½ç‚¹ï¼šï¼ˆä¸è®¾ç½®ï¼‰
å¤§å°ï¼š4096MB
æ–°åˆ†åŒºçš„ç±»å‹ï¼šé€»è¾‘åˆ†åŒº
æ–°åˆ†åŒºçš„ä½ç½®ï¼šç©ºé—´èµ·å§‹ä½ç½®
ç”¨äºï¼šäº¤æ¢ç©ºé—´
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç¬¬ä¸‰æ¬¡åˆ†åŒºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;â€œç©ºé—²â€å¤„ï¼Œç»§ç»­ç‚¹â€œ+â€ï¼Œå¦‚ä¸‹è®¾ç½®ï¼Œ
æŒ‚è½½ç‚¹ï¼š/boot
å¤§å°ï¼š200MB
æ–°åˆ†åŒºçš„ç±»å‹ï¼šé€»è¾‘åˆ†åŒº
æ–°åˆ†åŒºçš„ä½ç½®ï¼šç©ºé—´èµ·å§‹ä½ç½®
ç”¨äºï¼šEXT4æ—¥å¿—æ–‡ä»¶ç³»ç»Ÿ
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç¬¬å››æ¬¡åˆ†åŒºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;â€œç©ºé—²â€å¤„ï¼Œç»§ç»­ç‚¹â€œ+â€ï¼Œå¦‚ä¸‹è®¾ç½®ï¼Œ
æŒ‚è½½ç‚¹ï¼š/home
å¤§å°ï¼šï¼ˆå‰©ä½™å…¨éƒ¨ç©ºé—´ï¼Œå‰©ä¸‹æ˜¾ç¤ºå¤šå°‘ï¼Œå°±å¤šå°‘ï¼‰
æ–°åˆ†åŒºçš„ç±»å‹ï¼šé€»è¾‘åˆ†åŒº
æ–°åˆ†åŒºçš„ä½ç½®ï¼šç©ºé—´èµ·å§‹ä½ç½®
ç”¨äºï¼šEXT4æ—¥å¿—æ–‡ä»¶ç³»ç»Ÿ
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åˆ†åŒºè®¾ç½®å®Œæ¯•åï¼Œä¸‹æ–¹è¿˜æœ‰ä¸€é¡¹â€œå®‰è£…å¯åŠ¨å¼•å¯¼å™¨çš„è®¾å¤‡â€ï¼Œmacbookpro ç”¨æˆ·éœ€è¦é€‰æ‹©/boot è¿™ä¸ªåˆ†åŒºæ‰€åœ¨ç£ç›˜ä½ç½®ã€‚&lt;/p&gt;
&lt;h3 id="å¼€æœºå¼•å¯¼ç¨‹åº-refit"&gt;å¼€æœºå¼•å¯¼ç¨‹åº rEFIT&lt;/h3&gt;
&lt;p&gt;å®‰è£…å®Œ ubuntuï¼Œé‡å¯åœ¨ mac ä¸‹ä¸‹è½½å®‰è£… rEFItã€‚å®‰è£…å¥½ååœ¨ç»ˆç«¯é‡Œè¾“å…¥&lt;code&gt;/efi/refit/. enable-always.sh&lt;/code&gt;å¯åŠ¨ rEFItã€‚é‡å¯ï¼Œä½ å°±ä¼šçœ‹åˆ° ubuntu çš„é€‰é¡¹ã€‚&lt;/p&gt;
&lt;h3 id="xubuntuä¼°è®¡-lubuntu-å’Œ-kubuntu-ä¹Ÿåº”è¯¥é€‚ç”¨ä»…æ˜¯çŒœæƒ³"&gt;Xubuntu(ä¼°è®¡ Lubuntu å’Œ Kubuntu ä¹Ÿåº”è¯¥é€‚ç”¨ï¼Œä»…æ˜¯çŒœæƒ³ã€‚)&lt;/h3&gt;
&lt;h3 id="å‡†å¤‡å·¥ä½œ-1"&gt;å‡†å¤‡å·¥ä½œ&lt;/h3&gt;
&lt;h4 id="å¦‚ä½•åˆ»å½•é•œåƒåˆ°ç§»åŠ¨è®¾å¤‡"&gt;å¦‚ä½•åˆ»å½•é•œåƒåˆ°ç§»åŠ¨è®¾å¤‡&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜å¾ˆé‡è¦ï¼Œå¦‚æœä½ ä¸‹è½½äº† iso æ ¼å¼çš„ Xubuntu ç³»ç»Ÿé•œåƒï¼Œ
ä½ éœ€è¦å°†è¯¥é•œåƒä¸ç»è¿‡ä»»ä½•è½¬æ¢çš„å®Œæ•´åˆ»å½•åˆ°ç§»åŠ¨è®¾å¤‡æˆ–å…‰ç›˜ä¸Š
ï¼ˆæˆ‘ä½¿ç”¨çš„æ˜¯ unetbootin è¿™ä¸ªè½¯ä»¶ï¼Œå¼€æºï¼Œè·¨å¹³å°ï¼Œæ“ä½œç®€ä¾¿ï¼‰ã€‚
æ³¨æ„ï¼Œç»å¯¹ä¸å¯ä»¥å°† iso æ ¼å¼è½¬æ¢æˆ imgï¼ˆmac é•œåƒï¼‰ååˆ»å½•ã€‚
è¿™æ ·ä¼šå¯¼è‡´ ubuntu éƒ¨åˆ†ç‰ˆæœ¬æ— æ³•å®‰è£… grub å¼•å¯¼å™¨ã€‚&lt;/p&gt;
&lt;h4 id="å¼€æœºå¼•å¯¼ç¨‹åº-refit-1"&gt;å¼€æœºå¼•å¯¼ç¨‹åº rEFIt&lt;/h4&gt;
&lt;p&gt;å®‰è£…å®Œçš„ç³»ç»Ÿæ— æ³•è¢« mac ç›´æ¥å¼•å¯¼ï¼Œæ‰€ä»¥éœ€è¦å®‰è£… rEFIt å¼•å¯¼ã€‚å¦‚æœä¸æƒ³è¦å®‰è£…å®ƒï¼Œ
å¯ä»¥å‚è€ƒä¸‹è¾¹é™„å½• 1 é‡Œçš„å®‰è£…æ–¹æ³•ã€‚é‡æ–°ä¿®æ”¹å¼•å¯¼æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h4 id="å®‰è£…è¿‡ç¨‹-1"&gt;å®‰è£…è¿‡ç¨‹&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨å®˜ç½‘ä¸‹è½½ xubuntu é•œåƒï¼Œä½¿ç”¨ uneetbootin åˆ»å½•åˆ°è®¾å¤‡
ä¸Š(mac ç‰ˆçš„ unetbootin è²Œä¼¼åˆ»å½• iso æœ‰é—®é¢˜ï¼Œå¯ä»¥åœ¨ windows ä¸Šä¸‹è½½è¯¥è½¯ä»¶ä½¿ç”¨)ã€‚&lt;/li&gt;
&lt;li&gt;é‡å¯ï¼Œå¼€æœºç•Œé¢æŒ‰ä½&lt;code&gt;option&lt;/code&gt;é”®ï¼Œæœ‰ä¸ª windows å‘½åçš„ç§»åŠ¨è®¾å¤‡å›¾æ ‡ï¼Œé€‰ä¸­è¿›å…¥ã€‚&lt;/li&gt;
&lt;li&gt;å®‰è£…è¿‡ç¨‹ä¸æ•·è¿°, è£…åé‡å¯&lt;/li&gt;
&lt;li&gt;ä» mac è¿›å…¥ï¼Œå®‰è£… rEFItï¼Œåœ¨ shell é‡Œè¿è¡Œ&lt;code&gt;/efi/refit/. enable-always.sh&lt;/code&gt;å¯åŠ¨ rEFIt&lt;/li&gt;
&lt;li&gt;é‡å¯ï¼Œå‡ºç°ä¸¤ä¸ªå›¾æ ‡ï¼Œè‹¹æœä»£è¡¨ macï¼Œä¼é¹…ä»£è¡¨ linuxã€‚è‡³æ­¤ï¼Œå®Œæˆå®‰è£…è¿‡ç¨‹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="ubuntu-æˆ–-xubuntu-å®‰è£…åçš„ä¸€äº›é…ç½®"&gt;ubuntu æˆ– Xubuntu å®‰è£…åçš„ä¸€äº›é…ç½®&lt;/h2&gt;
&lt;p&gt;æ‰“å¼€ç³»ç»Ÿé…ç½®æ–‡ä»¶ï¼Œ&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;sudo gedit /etc/rc.local
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;åœ¨ exit 0 å‰è¾¹åŠ å…¥ä¸‹è¾¹å¯¹åº”çš„è¯­å¥,
é»˜è®¤å…³é—­åŠŸèƒ½é”® Fn:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;echo 2 &amp;gt; /sys/module/hid_apple/parameters/fnmode
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è®¾ç½®é»˜è®¤äº®åº¦(æ•°å­— 2565 å¯ä»¥ä¿®æ”¹ä»»æ„äº®åº¦)ï¼ˆxubuntu ä¸‹ä¸èµ·ä½œç”¨ï¼ŒåŸå› æœªçŸ¥ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;echo 2565 &amp;gt; /sys/class/backlight/intel_backlight/brightness
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è®¾ç½®é”®ç›˜ç¯äº®åº¦ï¼ˆæ•°å­— 1 ä»£è¡¨äº®åº¦):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;echo 1 &amp;gt; /sys/class/leds/smc::kbd_backlight/brightness
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id="é™„å½•-1"&gt;é™„å½• 1&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://help.ubuntu.com/community/MacBookPro11-1/Saucy"&gt;https://help.ubuntu.com/community/MacBookPro11-1/Saucy&lt;/a&gt;&lt;/p&gt;</description></item></channel></rss>